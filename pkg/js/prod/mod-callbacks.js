!function(e,a){if("function"==typeof define&&define.amd)define(["exports"],a);else if("undefined"!=typeof exports)a(exports);else{var n={};a(n),e.modCallbacks=n}}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.callbacks=void 0;var f=MyAMS.$,a={init:function(){0},initElement:function(e){f("[data-ams-callback]",e).each(function(e,i){var c=f(i).data(),a=c.amsCallback;if("string"==typeof a)try{a=JSON.parse(c.amsCallback)}catch(e){a=c.amsCallback.split(/[\s,;]+/)}f.isArray(a)||(a=[a]);var n=!0,o=!1,l=void 0;try{for(var t,s=function(){var e=t.value,a=void 0,n=void 0,o=void 0,l=void 0;"string"==typeof e?(a=e,n=MyAMS.core.getFunctionByName(a),o=c.amsCallbackOptions,"string"==typeof(l=c.amsCallbackOptions)&&(l=l.unserialize())):(a=e.callback,n=MyAMS.core.getFunctionByName(a),o=e.source,l=e.options),void 0===n?o?MyAMS.core.getScript(o).then(function(){void 0===(n=MyAMS.core.getFunctionByName(a))?console.warn("Missing callback ".concat(a,"!")):n.call(i,l)}):console.warn("Missing source for undefined callback ".concat(e,"!")):Promise.resolve().then(function(){n.call(i,l)})},r=a[Symbol.iterator]();!(n=(t=r.next()).done);n=!0)s()}catch(e){o=!0,l=e}finally{try{n||null==r.return||r.return()}finally{if(o)throw l}}})}};e.callbacks=a,window.MyAMS&&(MyAMS.env.bundle?MyAMS.config.modules.push("callbacks"):(MyAMS.callbacks=a,console.debug("MyAMS: callbacks module loaded...")))});
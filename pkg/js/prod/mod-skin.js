!function(e,t){if("function"==typeof define&&define.amd)define(["exports"],t);else if("undefined"!=typeof exports)t(exports);else{var n={};t(n),e.modSkin=n}}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.skin=void 0;var l=MyAMS.$,t=!1,r={init:function(){t||(t=!0,MyAMS.config.enableTooltips&&MyAMS.dom.root.tooltip({selector:".hint",html:MyAMS.config.enableHtmlTooltips}),l(".hint").mousedown(function(e){l(e.currentTarget).tooltip("hide")}),r.checkURL(),l(window).on("hashchange",r.checkURL))},initElement:function(e){MyAMS.config.enableTooltips||l(".hint",e).tooltip({html:MyAMS.config.enableHtmlTooltips})},checkURL:function(){var a,e=MyAMS.dom.nav,t=location.hash,n=t.replace(/^#/,""),o=null,i=n.indexOf("!");if(0<i&&(t=t.substring(0,i+1),o=n.substring(i+1),n=n.substring(0,i)),n){var c=l("#content");c.exists()||(c=MyAMS.dom.root),(a=l('a[href="'.concat(t,'"]'),e)).exists()&&MyAMS.require("nav").then(function(){MyAMS.nav.setActiveMenu(a)}),r.loadURL(n,c).then(function(){var e=l("html head title").data("ams-title-prefix"),t=e?"".concat(e," > "):"";if(document.title="".concat(t).concat(l("[data-ams-page-title]:first",c).data("ams-page-title")||a.attr("title")||document.title),o){var n=l("#".concat(o));n.exists()&&MyAMS.require("ajax").then(function(){MyAMS.ajax.check(l.fn.scrollTo,"".concat(MyAMS.env.baseURL,"../ext/jquery-scrollto").concat(MyAMS.env.extext,".js")).then(function(){l("#main").scrollTo(n,{offset:-15})})})}},function(){})}else{var s=l("[data-ams-active-menu]").data("ams-active-menu");(a=s?l('a[href="'.concat(s,'"]'),e):l('>ul >li >a[href!="#"]',e).first()).exists()&&MyAMS.require("nav").then(function(){MyAMS.nav.setActiveMenu(a),s?MyAMS.nav.drawBreadcrumbs():window.location.replace(window.location.href+a.attr("href"))})}},loadURL:function(c,s,e){var r=2<arguments.length&&void 0!==e?e:{};return new Promise(function(i,o){c.startsWith("#")&&(c=c.substr(1)),s=l(s),MyAMS.core.clearContent(s).then(function(e){if(e){var t={type:"GET",url:c,dataType:"html",cache:!1,beforeSend:function(){s.html('<h1 class="loading"><i class="fa fa-cog fa-spin"></i> '.concat(MyAMS.i18n.LOADING,"</h1>")),r&&r.preLoadCallback&&MyAMS.core.executeFunctionByName(r.preLoadCallback,void 0,r.preLoadCallbackOptions),s[0]===l("#content")[0]&&MyAMS.require("nav").then(function(){MyAMS.nav.drawBreadcrumbs();var e=l("html head title").data("ams-title-prefix"),t=e?"".concat(e," > "):"";document.title="".concat(t).concat(l(".breadcrumb li:last-child").text()),MyAMS.dom.root.animate({scrollTop:0},"fast")})}},n=l.extend({},t,r),a={veto:!1};s.trigger("before-load.myams.content",[n,a]),a.veto||l.ajax(n).then(function(e,a,o){MyAMS.require("ajax").then(function(){var e=MyAMS.ajax.getResponse(o);if(e){var t=e.contentType,n=e.data;switch(l(".loading",s).remove(),t){case"json":MyAMS.ajax.handleJSON(n,s),i(n,a,o);break;case"script":case"xml":i(n,a,o);break;case"html":case"text":default:s.parents(".hidden").removeClass("hidden"),l(".alert",s.parents(".alerts")).remove(),s.css({opacity:"0.0"}).html(n).removeClass("hidden").delay(30).animate({opacity:"1.0"},300),MyAMS.core.executeFunctionByName(MyAMS.config.initContent,window,s).then(function(){MyAMS.form&&MyAMS.form.setFocus(s),s.trigger("after-load.myams.content"),i(n,a,o)})}MyAMS.stats&&MyAMS.stats.logPageview()}})},function(e,t,n){s.html('<h3 class="error"><i class="fa fa-exclamation-triangle text-danger"></i> \n\t\t\t\t\t\t\t\t'.concat(MyAMS.i18n.ERROR," ").concat(n,"</h3>").concat(e.responseText)),o(n)})}})})}};e.skin=r,window.MyAMS&&(MyAMS.env.bundle?MyAMS.config.modules.push("skin"):(MyAMS.skin=r,console.debug("MyAMS: skin module loaded...")))});
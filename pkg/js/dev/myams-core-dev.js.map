{"version":3,"file":"myams-core-dev.js","mappings":"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","sources":["webpack://myams_js/./src/js/ext-base.js","webpack://myams_js/./src/js/ext-registry.js","webpack://myams_js/./src/js/ext-require.js","webpack://myams_js/external var \"jquery\"","webpack://myams_js/webpack/bootstrap","webpack://myams_js/webpack/runtime/define property getters","webpack://myams_js/webpack/runtime/hasOwnProperty shorthand","webpack://myams_js/webpack/runtime/make namespace object","webpack://myams_js/./src/js/myams-core.js"],"sourcesContent":["/* global $, FontAwesome */\n/**\n * MyAMS base features\n */\n\nif (!window.jQuery) {\n\twindow.$ = window.jQuery = require('jquery');\n}\n\n\nimport { registry } from \"./ext-registry\";\n\n\n/**\n * Init JQuery extensions\n */\nexport function init($) {\n\n\t/**\n\t * String prototype extensions\n\t */\n\t$.extend(String.prototype, {\n\n\t\t/**\n\t\t * Replace dashed names with camelCase variation\n\t\t */\n\t\tcamelCase: function() {\n\t\t\tif (!this) {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\treturn this.replace(/-(.)/g, (dash, rest) => {\n\t\t\t\treturn rest.toUpperCase();\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Replace camelCase string with dashed name\n\t\t */\n\t\tdeCase: function() {\n\t\t\tif (!this) {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\treturn this.replace(/[A-Z]/g, (cap) => {\n\t\t\t\treturn `-${cap.toLowerCase()}`;\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Convert first letter only to lowercase\n\t\t */\n\t\tinitLowerCase: function() {\n\t\t\tif (!this) {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\treturn this.charAt(0).toLowerCase() + this.slice(1);\n\t\t},\n\n\t\t/**\n\t\t * Convert URL params to object\n\t\t */\n\t\tunserialize: function () {\n\t\t\tif (!this) {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\tconst\n\t\t\t\tstr = decodeURIComponent(this),\n\t\t\t\tchunks = str.split('&'),\n\t\t\t\tobj = {};\n\t\t\tfor (const chunk of chunks) {\n\t\t\t\tconst [key, val] = chunk.split('=', 2);\n\t\t\t\tobj[key] = val;\n\t\t\t}\n\t\t\treturn obj;\n\t\t}\n\t});\n\n\n\t/**\n\t * Array class prototype extension\n\t */\n\t$.extend(Array.prototype, {\n\n\t\t/**\n\t\t * Extend an array with another one\n\t\t */\n\t\textendWith: function(source) {\n\t\t\tfor (const element of source) {\n\t\t\t\tthis.push(element);\n\t\t\t}\n\t\t}\n\t});\n\n\n\t/**\n\t * Global JQuery object extensions\n\t */\n\t$.extend($, {\n\n\t\t/**\n\t\t * Extend source object with given extensions, but only for properties matching\n\t\t * given prefix.\n\t\t *\n\t\t * @param source: source object, which will be updated in-place\n\t\t * @param prefix: property names prefix selector\n\t\t * @param getter: optional getter used to extract final value\n\t\t * @param extensions: list of extensions object\n\t\t * @returns {*}: modified source object\n\t\t */\n\t\textendPrefix: function(source, prefix, getter, ...extensions) {\n\t\t\tfor (const extension of extensions) {\n\t\t\t\tfor (const [key, value] of Object.entries(extension)) {\n\t\t\t\t\tif (key.startsWith(prefix)) {\n\t\t\t\t\t\tsource[key.substring(prefix.length).initLowerCase()] =\n\t\t\t\t\t\t\tgetter === null ? value : getter(value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn source;\n\t\t},\n\n\t\t/**\n\t\t * Extend source with given extensions, but only for existing attributes\n\t\t *\n\t\t * @param source: source object, which will be updated in-place\n\t\t * @param getter: optional getter used to extract final value\n\t\t * @param extensions: list of extensions object\n\t\t * @returns {*}: modified source object\n\t\t */\n\t\textendOnly: function(source, getter, ...extensions) {\n\t\t\tfor (const extension of extensions) {\n\t\t\t\tfor (const [key, value] of Object.entries(extension)) {\n\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(source, key)) {\n\t\t\t\t\t\tsource[key] = getter === null ? value : getter(value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn source;\n\t\t}\n\t});\n\n\n\t/**\n\t * New JQuery functions\n\t */\n\t$.fn.extend({\n\n\t\t/**\n\t\t * Check if current object is empty or not\n\t\t */\n\t\texists: function() {\n\t\t\treturn $(this).length > 0;\n\t\t},\n\n\t\t/**\n\t\t * Get object if it supports given CSS class,\n\t\t * otherwise look for parents\n\t\t */\n\t\tobjectOrParentWithClass: function(klass) {\n\t\t\tif (this.hasClass(klass)) {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\treturn this.parents(`.${klass}`);\n\t\t},\n\n\t\t/**\n\t\t * Build an array of attributes of the given selection\n\t\t */\n\t\tlistattr: function(attr) {\n\t\t\tconst result = [];\n\t\t\tthis.each((index, element) => {\n\t\t\t\tresult.push($(element).attr(attr));\n\t\t\t});\n\t\t\treturn result;\n\t\t},\n\n\t\t/**\n\t\t * CSS style function - get or set object style attribute\n\t\t * Code from Aram Kocharyan on stackoverflow.com\n\t\t */\n\t\tstyle: function(styleName, value, priority) {\n\t\t\tlet result = this;\n\t\t\tthis.each((idx, node) => {\n\t\t\t\t// Ensure we have a DOM node\n\t\t\t\tif (typeof node === 'undefined') {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t// CSSStyleDeclaration\n\t\t\t\tconst style = node.style;\n\t\t\t\t// Getter/Setter\n\t\t\t\tif (typeof styleName !== 'undefined') {\n\t\t\t\t\tif (typeof value !== 'undefined') {\n\t\t\t\t\t\t// Set style property\n\t\t\t\t\t\tpriority = typeof (priority) !== 'undefined' ? priority : '';\n\t\t\t\t\t\tstyle.setProperty(styleName, value, priority);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Get style property\n\t\t\t\t\t\tresult = style.getPropertyValue(styleName);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Get CSSStyleDeclaration\n\t\t\t\t\tresult = style;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn result;\n\t\t},\n\n\t\t/**\n\t\t * Remove CSS classes starting with a given prefix\n\t\t */\n\t\tremoveClassPrefix: function(prefix) {\n\t\t\tthis.each(function(i, it) {\n\t\t\t\tconst classes = it.className.split(/\\s+/).map((item) => {\n\t\t\t\t\treturn item.startsWith(prefix) ? \"\" : item;\n\t\t\t\t});\n\t\t\t\tit.className = $.trim(classes.join(\" \"));\n\t\t\t});\n\t\t\treturn this;\n\t\t}\n\n\t});\n\n\n\t/**\n\t * JQuery 'hasvalue' function expression\n\t * Filter inputs containing value:\n\t *\n\t *     $('span:hasvalue(\"value\")')\n\t */\n\t$.expr[\":\"].hasvalue = function (obj, index, meta /*, stack*/) {\n\t\treturn $(obj).val() !== \"\";\n\t};\n\n\n\t/**\n\t * JQuery 'econtains' function expression\n\t * Case insensitive contains expression:\n\t *\n\t *     $('span:econtains(\"text\")')\n\t */\n\t$.expr[\":\"].econtains = function (obj, index, meta /*, stack*/) {\n\t\treturn (obj.textContent || obj.innerText || $(obj).text() || \"\").toLowerCase() === meta[3].toLowerCase();\n\t};\n\n\n\t/**\n\t * JQuery 'withtext' expression\n\t * Case sensitive exact search expression.\n\t * For example:\n\t *\n\t *    $('span:withtext(\"text\")')\n\t */\n\t$.expr[\":\"].withtext = function (obj, index, meta /*, stack*/) {\n\t\treturn (obj.textContent || obj.innerText || $(obj).text() || \"\") === meta[3];\n\t};\n\n\n\t/**\n\t * JQuery filter on parents class\n\t * This filter is often combined with \":not()\" to select DOM objects which don't have\n\t * parents of a given class.\n\t * For example:\n\t *\n\t *   $('.hint:not(:parents(.nohints))', element);\n\t *\n\t * will select all elements with \".hint\" class which don't have a parent with '.nohints' class.\n\t */\n\t$.expr[':'].parents = function (obj, index, meta /*, stack*/) {\n\t\treturn $(obj).parents(meta[3]).length > 0;\n\t};\n\n\n\t$(document).ready(() => {\n\t\tconst html = $('html');\n\t\thtml.removeClass('no-js')\n\t\t\t.addClass('js');\n\t\tMyAMS.core.executeFunctionByName(html.data('ams-init-page') ||\n\t\t\tMyAMS.config.initPage);\n\t});\n}\n\n\n/**\n * Get list of modules names required by given element\n *\n * @param element: parent element\n * @returns {*[]}\n */\nexport function getModules(element) {\n\tlet modules = [];\n\tconst mods = element.data('ams-modules');\n\tif (typeof mods === 'string') {\n\t\tmodules = modules.concat(mods.trim().split(/[\\s,;]+/));\n\t} else if (mods) {\n\t\tfor (const [name, props] of Object.entries(mods)) {\n\t\t\tconst entry = {};\n\t\t\tentry[name] = props;\n\t\t\tmodules.push(entry);\n\t\t}\n\t}\n\t$('[data-ams-modules]', element).each((idx, elt) => {\n\t\tconst mods = $(elt).data('ams-modules');\n\t\tif (typeof mods === 'string') {\n\t\t\tmodules = modules.concat(mods.trim().split(/[\\s,;]+/));\n\t\t} else if (mods) {\n\t\t\tfor (const [name, props] of Object.entries(mods)) {\n\t\t\t\tconst entry = {};\n\t\t\t\tentry[name] = props;\n\t\t\t\tmodules.push(entry);\n\t\t\t}\n\t\t}\n\t});\n\treturn [...new Set(modules)];\n}\n\n\n/**\n * Main page initialization\n */\nexport function initPage() {\n\treturn MyAMS.require('i18n').then(() => {\n\t\tMyAMS.dom = getDOM();\n\t\tMyAMS.theme = getTheme();\n\t\texecuteFunctionByName(MyAMS.config.initData, window, MyAMS.dom.root);\n\t\tconst modules = getModules(MyAMS.dom.root);\n\t\tMyAMS.require(...modules).then(() => {\n\t\t\tfor (const moduleName of MyAMS.config.modules) {\n\t\t\t\texecuteFunctionByName(`MyAMS.${moduleName}.init`);\n\t\t\t}\n\t\t\texecuteFunctionByName(MyAMS.dom.page.data('ams-init-content') ||\n\t\t\t\tMyAMS.config.initContent);\n\t\t});\n\t});\n}\n\n\n/**\n * Data attributes initializer\n *\n * This function converts a single \"data-ams-data\" attribute into a set of several \"data-*\"\n * attributes.\n * This can be used into HTML templates engines which don't allow creating dynamic attributes\n * easily.\n *\n * @param element: parent element\n */\nexport function initData(element) {\n\t$('[data-ams-data]', element).each((idx, elt) => {\n\t\tconst\n\t\t\t$elt = $(elt),\n\t\t\tdata = $elt.data('ams-data');\n\t\tif (data) {\n\t\t\tfor (const name in data) {\n\t\t\t\tif (!Object.prototype.hasOwnProperty.call(data, name)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tlet elementData = data[name];\n\t\t\t\tif (typeof elementData !== 'string') {\n\t\t\t\t\telementData = JSON.stringify(elementData);\n\t\t\t\t}\n\t\t\t\t$elt.attr(`data-${name}`, elementData);\n\t\t\t}\n\t\t}\n\t\t$elt.removeAttr('data-ams-data');\n\t});\n}\n\n\n/**\n * Main content initialization; this function will initialize all plug-ins, callbacks and\n * events listeners in the selected element\n *\n * @param element: source element to initialize\n */\nexport function initContent(element=null) {\n\n\tif (element === null) {\n\t\telement = $('body');\n\t}\n\telement = $(element);\n\n\tfunction initElementModules() {\n\t\tfor (const moduleName of MyAMS.config.modules) {\n\t\t\texecuteFunctionByName(`MyAMS.${moduleName}.initElement`, document, element);\n\t\t}\n\t}\n\n\treturn new Promise((resolve, reject) => {\n\t\texecuteFunctionByName(MyAMS.config.initData, window, element);\n\t\tconst modules = getModules(element);\n\t\treturn MyAMS.require(...modules).then(() => {\n\t\t\telement.trigger('before-init.ams.content');\n\t\t\tif (MyAMS.config.useRegistry && !element.data('ams-disable-registry')) {\n\t\t\t\tMyAMS.registry.initElement(element).then(() => {\n\t\t\t\t\tinitElementModules();\n\t\t\t\t}).then(() => {\n\t\t\t\t\tMyAMS.registry.run(element);\n\t\t\t\t\telement.trigger('after-init.ams.content');\n\t\t\t\t}).then(resolve);\n\t\t\t} else {\n\t\t\t\tinitElementModules();\n\t\t\t\tresolve();\n\t\t\t}\n\t\t}, () => {\n\t\t\treject(\"Missing MyAMS modules!\");\n\t\t});\n\t});\n}\n\n\n/**\n * Container clearing function.\n *\n * This function is called before replacing an element contents with new DOM elements;\n * an 'ams.container.before-cleaning' event is triggered, with arguments which are the\n * container and a \"veto\" object containing a single boolean \"veto\" property; if any\n * handler attached to this event set the \"veto\" property to *true*,\n *\n * The function returns a Promise which is resolved with the opposite value of the \"veto\"\n * property.\n *\n * @param element: the parent element which may be cleaned\n * @returns {Promise<boolean>}\n */\nexport function clearContent(element) {\n\tif (typeof element === 'string') {\n\t\telement = $(element);\n\t}\n\treturn new Promise((resolve, reject) => {\n\t\tconst veto = { veto: false };\n\t\t$(document).trigger('clear.ams.content', [veto, element]);\n\t\tif (!veto.veto) {\n\t\t\tMyAMS.require('events').then(() => {\n\t\t\t\t$(MyAMS.events.getHandlers(element, 'clear.ams.content')).each((idx, elt) => {\n\t\t\t\t\t$(elt).trigger('clear.ams.content', [veto]);\n\t\t\t\t\tif (veto.veto) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (!veto.veto) {\n\t\t\t\t\t$(MyAMS.events.getHandlers(element, 'cleared.ams.content')).each((idx, elt) => {\n\t\t\t\t\t\t$(elt).trigger('cleared.ams.content');\n\t\t\t\t\t});\n\t\t\t\t\t$(document).trigger('cleared.ams.content', [element]);\n\t\t\t\t}\n\t\t\t\tresolve(!veto.veto);\n\t\t\t}, () => {\n\t\t\t\treject(\"Missing MyAMS.events module!\");\n\t\t\t});\n\t\t} else {\n\t\t\tresolve(!veto.veto);\n\t\t}\n\t});\n}\n\n\n/**\n * Get an object given by name\n *\n * @param objectName: dotted name of the object\n * @param context: source context, or window if undefined\n * @returns {Object|undefined}\n */\nexport function getObject(objectName, context) {\n\tif (!objectName) {\n\t\treturn undefined;\n\t}\n\tif (typeof objectName !== 'string') {\n\t\treturn objectName;\n\t}\n\tconst namespaces = objectName.split('.');\n\tcontext = (context === undefined || context === null) ? window : context;\n\tfor (const name of namespaces) {\n\t\ttry {\n\t\t\tcontext = context[name];\n\t\t} catch (exc) {\n\t\t\treturn undefined;\n\t\t}\n\t}\n\treturn context;\n}\n\n\n/**\n * Get function object from name\n *\n * @param functionName: dotted name of the function\n * @param context: source context; window if undefined\n * @returns {function|undefined}\n */\nexport function getFunctionByName(functionName, context) {\n\tif ((functionName === null) || (typeof functionName === 'undefined')) {\n\t\treturn undefined;\n\t} else if (typeof functionName === 'function') {\n\t\treturn functionName;\n\t} else if (typeof functionName !== 'string') {\n\t\treturn undefined;\n\t}\n\tconst\n\t\tnamespaces = functionName.split(\".\"),\n\t\tfunc = namespaces.pop();\n\tcontext = (context === undefined || context === null) ? window : context;\n\tfor (const name of namespaces) {\n\t\ttry {\n\t\t\tcontext = context[name];\n\t\t} catch (e) {\n\t\t\treturn undefined;\n\t\t}\n\t}\n\ttry {\n\t\treturn context[func];\n\t} catch (e) {\n\t\treturn undefined;\n\t}\n}\n\n\n/**\n * Execute a function, given by it's name\n *\n * @param functionName: dotted name of the function\n * @param context: parent context, or window if undefined\n * @param args...: optional function arguments\n * @returns {*}: result of the called function\n */\nexport function executeFunctionByName(functionName, context /*, args */) {\n\tconst func = getFunctionByName(functionName, window);\n\tif (typeof func === 'function') {\n\t\tconst args = Array.prototype.slice.call(arguments, 2);\n\t\treturn func.apply(context, args);\n\t}\n}\n\n\n/**\n * Get target URL matching given source\n *\n * Given URL can include variable names (with their namespace), given between braces,\n * as in {MyAMS.env.baseURL}\n */\nexport function getSource(url) {\n\treturn url.replace(/{[^{}]*}/g, (match) => {\n\t\treturn getObject(match.substr(1, match.length - 2));\n\t});\n}\n\n\n/**\n * Dynamic script loader function\n *\n * @param url: script URL\n * @param options: a set of options to be added to AJAX call\n */\nexport function getScript(url, options={}) {\n\n\treturn new Promise((resolve, reject) => {\n\t\tconst defaults = {\n\t\t\tdataType: 'script',\n\t\t\turl: MyAMS.core.getSource(url),\n\t\t\tcache: MyAMS.env.devmode,\n\t\t\tasync: true\n\t\t};\n\t\tconst settings = $.extend({}, defaults, options);\n\t\t$.ajax(settings).then(() => {\n\t\t\tresolve(url);\n\t\t}, (xhr, status, error) => {\n\t\t\treject(error);\n\t\t})\n\t});\n}\n\n\n/**\n * Get CSS matching given URL\n *\n * @param url: CSS source URL\n * @param name: name of the given CSS\n */\nexport function getCSS(url, name) {\n\n\treturn new Promise((resolve /*, reject */) => {\n\t\tconst head = $('HEAD');\n\t\tlet style = $(`style[data-ams-id=\"${name}\"]`, head);\n\t\tif (style.length === 0) {\n\t\t\tstyle = $('<style>').attr('data-ams-id', name)\n\t\t\t\t\t\t\t\t.text(`@import \"${getSource(url)}\";`)\n\t\t\t\t\t\t\t\t.appendTo(head);\n\t\t\tconst styleInterval = setInterval(() => {\n\t\t\t\ttry {\n\t\t\t\t\t// eslint-disable-next-line no-unused-vars\n\t\t\t\t\tconst _check = style[0].sheet.cssRules;  // Is only populated when file is loaded\n\t\t\t\t\tclearInterval(styleInterval);\n\t\t\t\t\tresolve(true);\n\t\t\t\t} catch (e) {\n\t\t\t\t\t// CSS is not loaded yet, just wait...\n\t\t\t\t}\n\t\t\t}, 10);\n\t\t} else {\n\t\t\tresolve(false);\n\t\t}\n\t});\n}\n\n\n/**\n * Extract parameter value from given query string\n *\n * @param src: source URL\n * @param varName: variable name\n * @returns {boolean|*}\n */\nexport function getQueryVar(src, varName) {\n\t// Check src\n\tif ((typeof src !== 'string') || (src.indexOf('?') < 0)) {\n\t\treturn undefined;\n\t}\n\tif (!src.endsWith('&')) {\n\t\tsrc += '&';\n\t}\n\t// Dynamic replacement RegExp\n\tconst regex = new RegExp(`.*?[&\\\\?]${varName}=(.*?)&.*`);\n\t// Apply RegExp to the query string\n\tconst val = src.replace(regex, \"$1\");\n\t// If the string is the same, we didn't find a match - return null\n\treturn val === src ? null : val;\n}\n\n\n/**\n * Generate a random ID\n */\nexport function generateId() {\n\n\tfunction s4() {\n\t\treturn Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n\t}\n\n\treturn s4() + s4() + s4() + s4();\n}\n\n\n/**\n * Generate a random unique UUID\n */\nexport function generateUUID() {\n\tlet d = new Date().getTime();\n\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n\t\tconst r = (d + Math.random() * 16) % 16 | 0;\n\t\td = Math.floor(d / 16);\n\t\treturn (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16);\n\t});\n}\n\n\n/**\n * Switch a FontAwesome icon.\n * Use FontAwesome API to get image as SVG, if FontAwesome is loaded from Javascript and is using\n * SVG auto-replace, otherwise just switch CSS class.\n *\n * @param element: source element\n * @param fromClass: initial CSS class (without \"fa-\" prefix)\n * @param toClass: new CSS class (without \"fa-\" prefix)\n * @param prefix: icon prefix (defaults to \"fa\")\n */\nexport function switchIcon(element, fromClass, toClass, prefix='fa') {\n\tif (typeof element === 'string') {\n\t\telement = $(element);\n\t}\n\tif (MyAMS.config.useSVGIcons) {\n\t\tconst iconDef = FontAwesome.findIconDefinition({\n\t\t\ticonName: toClass,\n\t\t\tprefix: prefix\n\t\t});\n\t\tif (iconDef) {\n\t\t\telement.html(FontAwesome.icon(iconDef).html);\n\t\t}\n\t} else {\n\t\telement.removeClass(`fa-${fromClass}`)\n\t\t\t.addClass(`fa-${toClass}`);\n\t}\n}\n\n\n/**\n * MyAMS base environment getter\n *\n * @type {Object}\n *\n * Returns an object with the following attributes matching MyAMS environment:\n * - bundle: boolean; true if MyAMS is published using modules bundle\n * - devmode: boolean; true if MyAMS is published in development mode\n * - devext: string: extension used in development mode\n * - extext: string: extension used for external extensions\n * - theme: string: current MyAMS theme name\n * - baseURL: string: base MyAMS URL\n * }}\n */\nfunction getEnv($) {\n\tconst\n\t\tscript = $(\n\t\t\t'script[src*=\"/myams.js\"], script[src*=\"/myams-dev.js\"], ' +\n\t\t\t'script[src*=\"/emerald.js\"], script[src*=\"/emerald-dev.js\"], ' +\n\t\t\t'script[src*=\"/darkmode.js\"], script[src*=\"/darkmode-dev.js\"], ' +\n\t\t\t'script[src*=\"/myams-core.js\"], script[src*=\"/myams-core-dev.js\"], ' +\n\t\t\t'script[src*=\"/myams-mini.js\"], script[src*=\"/myams-mini-dev.js\"]'),\n\t\tsrc = script.attr('src'),\n\t\tdevmode = src ? src.indexOf('-dev.js') >= 0 : true,  // testing mode\n\t\tbundle = src ? src.indexOf('-core') < 0 : true;  // MyAMS modules not included in 'core' package\n\treturn {\n\t\tbundle: bundle,\n\t\tdevmode: devmode,\n\t\tdevext: devmode ? '-dev' : '',\n\t\textext: devmode ? '' : '.min',\n\t\tbaseURL: src ? src.substring(0, src.lastIndexOf('/') + 1) : '/'\n\t};\n}\n\n\n/**\n * MyAMS theme getter\n */\nfunction getTheme() {\n\tlet theme = MyAMS.theme;\n\tif (!theme) {\n\t\tconst css = $(\n\t\t\t'link[href*=\"/myams.css\"], link[href*=\"/emerald.css\"], link[href*=\"/darkmode.css\"]'\n\t\t);\n\t\ttheme = css.length > 0 ? /.*\\/([a-z]+).css/.exec(css.attr('href'))[1] : 'unknown';\n\t}\n\treturn theme;\n}\n\n\n/**\n * Get base DOM elements\n */\nfunction getDOM() {\n\treturn {\n\t\tpage: $('html'),\n\t\troot: $('body'),\n\t\tnav: $('nav'),\n\t\tmain: $('#main'),\n\t\tleftPanel: $('#left-panel'),\n\t\tshortcuts: $('#shortcuts')\n\t}\n}\n\n\n/**\n * MyAMS default configuration\n *\n * @type {Object}\n *\n * Returns an object matching current MyAMS configuration:\n * - modules: array of loaded extension modules\n * - ajaxNav: true if AJAX navigation is enabled\n * - enableFastclick: true is \"smart-click\" extension is to be activated on mobile devices\n * - menuSpeed: menu speed, in miliseconds\n * - initPage: dotted name of MyAMS global init function\n * - initContent: dotted name of MyAMS content init function\n * - alertContainerCLass: class of MyAMS alerts container\n * - safeMethods: HTTP methods which can be used without CSRF cookie verification\n * - csrfCookieName: CSRF cookie name\n * - csrfHeaderName: CSRF header name\n * - enableTooltips: global tooltips enable flag\n * - enableHtmlTooltips: allow HTML code in tooltips\n * - warnOnFormChange: flag to specify if form changes should be warned\n * - formChangeCallback: global form change callback\n * - isMobile: boolean, true if device is detected as mobile\n * - device: string: 'mobile' or 'desktop'\n */\nconst\n\tisMobile = /iphone|ipad|ipod|android|blackberry|mini|windows\\sce|palm/i.test(\n\t\t\t\t\tnavigator.userAgent.toLowerCase()),\n\tconfig = {\n\t\tmodules: [],\n\t\tajaxNav: true,\n\t\tenableFastclick: true,\n\t\tuseSVGIcons:\n\t\t\t(window.FontAwesome !== undefined) && (FontAwesome.config.autoReplaceSvg === 'nest'),\n\t\tmenuSpeed: 235,\n\t\tinitPage: 'MyAMS.core.initPage',\n\t\tinitData: 'MyAMS.core.initData',\n\t\tinitContent: 'MyAMS.core.initContent',\n\t\tclearContent: 'MyAMS.core.clearContent',\n\t\tuseRegistry: true,\n\t\talertsContainerClass: 'toast-wrapper',\n\t\tsafeMethods: ['GET', 'HEAD', 'OPTIONS', 'TRACE'],\n\t\tcsrfCookieName: 'csrf_token',\n\t\tcsrfHeaderName: 'X-CSRF-Token',\n\t\tenableTooltips: true,\n\t\tenableHtmlTooltips: true,\n\t\twarnOnFormChange: true,\n\t\tformChangeCallback: null,\n\t\tisMobile: isMobile,\n\t\tdevice: isMobile ? 'mobile' : 'desktop'\n\t},\n\tcore = {\n\t\tgetObject: getObject,\n\t\tgetFunctionByName: getFunctionByName,\n\t\texecuteFunctionByName: executeFunctionByName,\n\t\tgetSource: getSource,\n\t\tgetScript: getScript,\n\t\tgetCSS: getCSS,\n\t\tgetQueryVar: getQueryVar,\n\t\tgenerateId: generateId,\n\t\tgenerateUUID: generateUUID,\n\t\tswitchIcon: switchIcon,\n\t\tinitPage: initPage,\n\t\tinitData: initData,\n\t\tinitContent: initContent,\n\t\tclearContent: clearContent\n\t};\n\n\nconst MyAMS = {\n\t$: $,\n\tenv: getEnv($),\n\tconfig: config,\n\tcore: core,\n\tregistry: registry\n};\nwindow.MyAMS = MyAMS;\n\nexport default MyAMS;\n","/* global $, MyAMS */\n/**\n * MyAMS dynamic plug-ins loading management\n */\n\n\n/**\n * Plug-ins loading order\n *  - initialize registry\n *  - initialize DOM data attributes\n *  - register all plug-ins from given DOM element\n *  - load all plug-ins from given DOM element\n *  - get list of disabled plug-ins into given DOM element\n *  - call callbacks for all enabled plug-ins\n *  - call callbacks for enabled \"async\" plug-ins\n */\n\n/**\n * Base plug-in class\n */\nclass Plugin {\n\n\tconstructor(name, props={}, loaded=false) {\n\t\t// plug-in name\n\t\tthis.name = name;\n\t\t// plug-in source URL\n\t\tthis.src = props.src;\n\t\t// plug-in associated CSS\n\t\tthis.css = props.css;\n\t\t// plug-in callbacks\n\t\tthis.callbacks = [];\n\t\tif (props.callback) {\n\t\t\tthis.callbacks.push({\n\t\t\t\tcallback: props.callback,\n\t\t\t\tcontext: props.context || 'body'\n\t\t\t});\n\t\t}\n\t\t// async plug-ins are loaded simultaneously; sync ones are loaded and called after...\n\t\tthis.async = props.async === undefined ? true : props.async;\n\t\t// loaded flag\n\t\tthis.loaded = loaded;\n\t}\n\n\t/**\n\t * Load plug-in from remote script\n\t *\n\t * @returns {Promise<void>|*}\n\t */\n\tload() {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif (!this.loaded) {\n\t\t\t\tconst deferred = [];\n\t\t\t\tif (this.src) {\n\t\t\t\t\tdeferred.push(MyAMS.core.getScript(this.src));\n\t\t\t\t}\n\t\t\t\tif (this.css) {\n\t\t\t\t\tdeferred.push(MyAMS.core.getCSS(this.css, `${this.name}_css`));\n\t\t\t\t}\n\t\t\t\t$.when.apply($, deferred).then(() => {\n\t\t\t\t\tthis.loaded = true;\n\t\t\t\t\tresolve();\n\t\t\t\t}, reject);\n\t\t\t} else {\n\t\t\t\tresolve();\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Run plug-in\n\t *\n\t * @param element: plug-in execution context\n\t */\n\trun(element) {\n\t\tconst results = [];\n\t\tfor (const callback of this.callbacks) {\n\t\t\tif (typeof callback.callback === 'string') {\n\t\t\t\tconsole.debug(`Resolving callback ${callback.callback}`);\n\t\t\t\tcallback.callback = MyAMS.core.getFunctionByName(callback.callback) || callback.callback;\n\t\t\t}\n\t\t\tresults.push(callback.callback(element, callback.context));\n\t\t}\n\t\treturn Promise.all(results);\n\t}\n}\n\n\n/**\n * Plug-ins registry class\n */\nclass PluginsRegistry {\n\n\tconstructor() {\n\t\tthis.plugins = new Map();\n\t}\n\n\t/**\n\t * Register new plug-in\n\t *\n\t * @param props: plugin function caller, or object containing plug-in properties\n\t * @param name: plug-in unique name\n\t */\n\tregister(props, name) {\n\t\t// check arguments\n\t\tif (!name && Object.prototype.hasOwnProperty.call(props,'name')) {\n\t\t\tname = props.name;\n\t\t}\n\t\t// check for already registered plug-in\n\t\tconst plugins = this.plugins;\n\t\tif (plugins.has(name)) {\n\t\t\tif (window.console) {\n\t\t\t\tconsole.debug && console.debug(`Plug-in ${name} is already registered!`);\n\t\t\t}\n\t\t\tconst plugin = plugins.get(name);\n\t\t\tlet addContext = true;\n\t\t\tfor (const callback of plugin.callbacks) {\n\t\t\t\tif ((callback.callback === props.callback) && (callback.context === props.context)) {\n\t\t\t\t\taddContext = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (addContext) {\n\t\t\t\tplugin.callbacks.push({\n\t\t\t\t\tcallback: props.callback,\n\t\t\t\t\tcontext: props.context || 'body'\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn plugin;\n\t\t}\n\t\t// register new plug-in\n\t\tif (typeof props === 'string') {  // callable name\n\t\t\tprops = MyAMS.core.getFunctionByName(props);\n\t\t}\n\t\tif (typeof props === 'function') {  // callable object\n\t\t\tplugins.set(name, new Plugin(name, {\n\t\t\t\tcallback: props\n\t\t\t}, true));\n\t\t} else if (typeof props === 'object') {  // plug-in properties object\n\t\t\tplugins.set(name, new Plugin(name, props, !(props.src || props.css)));\n\t\t}\n\t\t// check callback\n\t\treturn plugins.get(name);\n\t}\n\n\t/**\n\t * Load plug-ins declared into DOM element\n\t *\n\t * @param element\n\t */\n\tload(element) {\n\t\t// scan element for new plug-ins\n\t\tconst\n\t\t\tasyncPlugins = [],\n\t\t\tsyncPlugins = [];\n\t\t$('[data-ams-plugins]', element).each((idx, elt) => {\n\t\t\tconst\n\t\t\t\tsource = $(elt),\n\t\t\t\tnames = source.data('ams-plugins');\n\t\t\tlet plugin,\n\t\t\t\tprops;\n\t\t\tif (typeof names === 'string') {\n\t\t\t\tfor (const name of names.split(/[\\s,;]+/)) {\n\t\t\t\t\tconst lowerName = name.toLowerCase();\n\t\t\t\t\tprops = {\n\t\t\t\t\t\tsrc: source.data(`ams-plugin-${lowerName}-src`),\n\t\t\t\t\t\tcss: source.data(`ams-plugin-${lowerName}-css`),\n\t\t\t\t\t\tcallback: source.data(`ams-plugin-${lowerName}-callback`),\n\t\t\t\t\t\tcontext: source,\n\t\t\t\t\t\tasync: source.data(`ams-plugin-${lowerName}-async`)\n\t\t\t\t\t};\n\t\t\t\t\tplugin = this.register(props, name);\n\t\t\t\t\tif (!plugin.loaded) {\n\t\t\t\t\t\tif (props.async === false) {\n\t\t\t\t\t\t\tsyncPlugins.push(plugin.load());\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tasyncPlugins.push(plugin.load());\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {  // JSON plug-in declaration\n\t\t\t\tfor (props of $.isArray(names) ? names : [names]) {\n\t\t\t\t\t$.extend(props, {\n\t\t\t\t\t\tcontext: source\n\t\t\t\t\t});\n\t\t\t\t\tplugin = this.register(props);\n\t\t\t\t\tif (!plugin.loaded) {\n\t\t\t\t\t\tif (plugin.async === false) {\n\t\t\t\t\t\t\tsyncPlugins.push(plugin.load());\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tasyncPlugins.push(plugin.load());\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t// load plug-ins\n\t\tlet result = $.when.apply($, asyncPlugins);\n\t\t// eslint-disable-next-line no-unused-vars\n\t\tfor (const plugin of syncPlugins) {\n\t\t\tresult = result.done(() => {});\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * Run registered plug-ins on given element\n\t *\n\t * @param element: source element\n\t * @param names: array list of plug-ins to activate, or all registered plug-ins if null\n\t */\n\trun(element, names=null) {\n\n\t\t// check for disabled plug-ins\n\t\tconst disabled = new Set();\n\t\t$('[data-ams-plugins-disabled]', element).each((idx, elt) => {\n\t\t\tconst names = $(elt).data('ams-plugins-disabled').split(/[\\s,;]+/);\n\t\t\tfor (const name of names) {\n\t\t\t\tdisabled.add(name);\n\t\t\t}\n\t\t});\n\n\t\tconst plugins = this.plugins;\n\t\tif (names) {  // only run given plug-ins, EVEN DISABLED ONES\n\t\t\tfor (const name of names) {\n\t\t\t\tif (plugins.has(name)) {\n\t\t\t\t\tplugins.get(name).run(element);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {  // run all plug-ins, except disabled ones\n\t\t\tfor (const [name, plugin] of plugins.entries()) {\n\t\t\t\tif (disabled.has(name)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tplugin.run(element);\n\t\t\t}\n\t\t}\n\t}\n}\n\nconst plugins = new PluginsRegistry();\n\n\nexport const registry = {\n\n\t/**\n\t * Plug-ins registry\n\t */\n\tplugins: plugins,\n\n\t/**\n\t * Initialize plug-ins registry from DOM\n\t *\n\t * @param element: source element to initialize from\n\t */\n\tinitElement: function(element='#content') {\n\t\t// populate data attributes\n\t\tMyAMS.core.executeFunctionByName(MyAMS.config.initData, window, element);\n\t\t// load plug-ins from given DOM element\n\t\treturn plugins.load(element);\n\t},\n\n\t/**\n\t * Register a new plug-in through Javascript instead of HTML data attributes\n\t *\n\t * @param plugin: callable object, or object containing plug-in properties\n\t * @param name: plug-in name, used if @plugin is a function\n\t * @param callback: callback function which can be called after plug-in registration\n\t */\n\tregister: function(plugin, name, callback) {\n\t\treturn plugins.register(plugin, name, callback);\n\t},\n\n\t/**\n\t * Run registered plug-ins on given element\n\t *\n\t * @param element: DOM element\n\t * @param names: names of plug-in to run on given element; all if null\n\t */\n\trun: function(element, names=null) {\n\t\treturn plugins.run(element, names);\n\t}\n};\n","/* global MyAMS */\n/**\n * MyAMS dynamic module loader\n */\n\nconst $ = MyAMS.$;\n\n\nfunction getModule(module, name) {\n\tlet moduleSrc,\n\t\tmoduleCss;\n\tif (typeof module === 'object') {\n\t\tmoduleSrc = module.src;\n\t\tmoduleCss = module.css;\n\t} else {\n\t\tif (module.startsWith('http://') || module.startsWith('https://')) {\n\t\t\tmoduleSrc = module;\n\t\t} else if (module.endsWith('.js')) {  // custom module with relative path\n\t\t\tmoduleSrc = module;\n\t\t} else {  // standard MyAMS module\n\t\t\tmoduleSrc = `${MyAMS.env.baseURL}mod-${module}${MyAMS.env.devext}.js`;\n\t\t}\n\t}\n\tconst deferred = [\n\t\tMyAMS.core.getScript(moduleSrc, {async: true}, console.error)\n\t];\n\tif (moduleCss) {\n\t\tdeferred.push(MyAMS.core.getCSS(moduleCss, `${name}_css`));\n\t}\n\treturn deferred;\n}\n\n\n/**\n * Dynamic loading of MyAMS modules\n *\n * @param modules: single module name, or array of modules names\n * @returns Promise\n */\nexport default function myams_require(...modules) {\n\n\treturn new Promise((resolve, reject) => {\n\n\t\tconst\n\t\t\tnames = [],\n\t\t\tdeferred = [],\n\t\t\tloaded = MyAMS.config.modules;\n\n\t\tfor (const module of modules) {\n\t\t\tif (typeof module === 'string') {\n\t\t\t\tif (loaded.indexOf(module) < 0) {\n\t\t\t\t\tnames.push(module);\n\t\t\t\t\tdeferred.extendWith(getModule(module));\n\t\t\t\t}\n\t\t\t} else if ($.isArray(module)) {  // strings array\n\t\t\t\tfor (const name of module) {\n\t\t\t\t\tif (loaded.indexOf(name) < 0) {\n\t\t\t\t\t\tnames.push(name);\n\t\t\t\t\t\tdeferred.extendWith(getModule(name));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {  // object\n\t\t\t\tfor (const [name, props] of Object.entries(module)) {\n\t\t\t\t\tif (loaded.indexOf(name) < 0) {\n\t\t\t\t\t\tnames.push(name);\n\t\t\t\t\t\tdeferred.extendWith(getModule(props, name));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t$.when.apply($, deferred)\n\t\t\t.then(() => {\n\t\t\t\tfor (const moduleName of names) {\n\t\t\t\t\tif (loaded.indexOf(moduleName) < 0) {\n\t\t\t\t\t\tloaded.push(moduleName);\n\t\t\t\t\t\tMyAMS.core.executeFunctionByName(`MyAMS.${moduleName}.init`);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tresolve();\n\t\t\t}, () => {\n\t\t\t\treject(`Can't load requested modules (${names})!`);\n\t\t\t});\n\t});\n}\n","module.exports = jquery;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * MyAMS core features\n *\n * This script is used to build MyAMS core-package.\n *\n * This package only includes MyAMS core features, but not CSS or external modules\n * which can be loaded using MyAMS.require function.\n */\n\nimport MyAMS, { init } from \"./ext-base\";\nimport myams_require from \"./ext-require\";\n\n\nMyAMS.$.extend(MyAMS, {\n\trequire: myams_require\n});\n\nconst html = MyAMS.$('html');\nif (html.data('ams-init') !== false) {\n\tinit(MyAMS.$);\n}\n\n\n/** Version: 1.16.0  */\n"],"names":["window","jQuery","$","require","registry","init","extend","String","prototype","camelCase","replace","dash","rest","toUpperCase","deCase","cap","toLowerCase","initLowerCase","charAt","slice","unserialize","str","decodeURIComponent","chunks","split","obj","chunk","key","val","Array","extendWith","source","element","push","extendPrefix","prefix","getter","extensions","extension","value","Object","entries","startsWith","substring","length","extendOnly","hasOwnProperty","call","fn","exists","objectOrParentWithClass","klass","hasClass","parents","listattr","attr","result","each","index","style","styleName","priority","idx","node","setProperty","getPropertyValue","removeClassPrefix","i","it","classes","className","map","item","trim","join","expr","hasvalue","meta","econtains","textContent","innerText","text","withtext","document","ready","html","removeClass","addClass","MyAMS","core","executeFunctionByName","data","config","initPage","getModules","modules","mods","concat","name","props","entry","elt","Set","then","dom","getDOM","theme","getTheme","initData","root","moduleName","page","initContent","$elt","elementData","JSON","stringify","removeAttr","initElementModules","Promise","resolve","reject","trigger","useRegistry","initElement","run","clearContent","veto","events","getHandlers","getObject","objectName","context","undefined","namespaces","exc","getFunctionByName","functionName","func","pop","e","args","arguments","apply","getSource","url","match","substr","getScript","options","defaults","dataType","cache","env","devmode","async","settings","ajax","xhr","status","error","getCSS","head","appendTo","styleInterval","setInterval","_check","sheet","cssRules","clearInterval","getQueryVar","src","varName","indexOf","endsWith","regex","RegExp","generateId","s4","Math","floor","random","toString","generateUUID","d","Date","getTime","c","r","switchIcon","fromClass","toClass","useSVGIcons","iconDef","FontAwesome","findIconDefinition","iconName","icon","getEnv","script","bundle","devext","extext","baseURL","lastIndexOf","css","exec","nav","main","leftPanel","shortcuts","isMobile","test","navigator","userAgent","ajaxNav","enableFastclick","autoReplaceSvg","menuSpeed","alertsContainerClass","safeMethods","csrfCookieName","csrfHeaderName","enableTooltips","enableHtmlTooltips","warnOnFormChange","formChangeCallback","device","Plugin","constructor","loaded","callbacks","callback","load","deferred","when","results","console","debug","all","PluginsRegistry","plugins","Map","register","has","plugin","get","addContext","set","asyncPlugins","syncPlugins","names","lowerName","isArray","done","disabled","add","getModule","module","moduleSrc","moduleCss","myams_require"],"sourceRoot":""}
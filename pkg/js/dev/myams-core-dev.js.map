{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/ext-base.js","webpack:///./src/js/ext-registry.js","webpack:///./src/js/ext-require.js","webpack:///./src/js/myams-core.js","webpack:///external \"jquery\""],"names":["window","jQuery","$","require","init","extend","String","prototype","camelCase","replace","dash","rest","toUpperCase","deCase","cap","toLowerCase","initLowerCase","charAt","slice","unserialize","str","decodeURIComponent","chunks","split","obj","chunk","key","val","Array","extendWith","source","element","push","extendPrefix","prefix","getter","extensions","extension","Object","entries","value","startsWith","substring","length","extendOnly","hasOwnProperty","call","fn","exists","objectOrParentWithClass","klass","hasClass","parents","listattr","attr","result","each","index","style","styleName","priority","idx","node","setProperty","getPropertyValue","removeClassPrefix","i","it","classes","className","map","item","trim","join","expr","hasvalue","meta","econtains","textContent","innerText","text","withtext","document","ready","html","removeClass","addClass","MyAMS","core","executeFunctionByName","data","config","initPage","getModules","modules","mods","concat","name","props","entry","elt","Set","then","dom","getDOM","theme","getTheme","root","moduleName","page","initContent","initElementModules","Promise","resolve","reject","trigger","useRegistry","registry","initElement","run","clearContent","veto","events","getHandlers","getObject","objectName","context","undefined","namespaces","exc","getFunctionByName","functionName","func","pop","e","args","arguments","apply","getSource","url","match","substr","getScript","options","defaults","dataType","cache","env","devmode","async","settings","ajax","xhr","status","error","getCSS","head","appendTo","styleInterval","setInterval","_check","sheet","cssRules","clearInterval","getQueryVar","src","varName","indexOf","endsWith","regex","RegExp","generateId","s4","Math","floor","random","toString","generateUUID","d","Date","getTime","c","r","switchIcon","fromClass","toClass","useSVGIcons","iconDef","FontAwesome","findIconDefinition","iconName","icon","getEnv","script","bundle","devext","extext","baseURL","lastIndexOf","css","exec","nav","main","leftPanel","shortcuts","isMobile","test","navigator","userAgent","ajaxNav","enableFastclick","autoReplaceSvg","menuSpeed","alertsContainerClass","safeMethods","csrfCookieName","csrfHeaderName","enableTooltips","enableHtmlTooltips","warnOnFormChange","formChangeCallback","device","Plugin","loaded","callbacks","callback","deferred","when","results","console","debug","all","PluginsRegistry","plugins","Map","has","plugin","get","addContext","set","asyncPlugins","syncPlugins","names","lowerName","register","load","isArray","done","disabled","add","initData","$elt","elementData","JSON","stringify","removeAttr","getModule","module","moduleSrc","moduleCss","myams_require"],"mappings":"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","file":"myams-core-dev.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/js/myams-core.js\");\n","/* global $, FontAwesome */\n/**\n * MyAMS base features\n */\n\nif (!window.jQuery) {\n\twindow.$ = window.jQuery = require('jquery');\n}\n\n\nimport { registry } from \"./ext-registry\";\n\n\n/**\n * Init JQuery extensions\n */\nexport function init($) {\n\n\t/**\n\t * String prototype extensions\n\t */\n\t$.extend(String.prototype, {\n\n\t\t/**\n\t\t * Replace dashed names with camelCase variation\n\t\t */\n\t\tcamelCase: function() {\n\t\t\tif (!this) {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\treturn this.replace(/-(.)/g, (dash, rest) => {\n\t\t\t\treturn rest.toUpperCase();\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Replace camelCase string with dashed name\n\t\t */\n\t\tdeCase: function() {\n\t\t\tif (!this) {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\treturn this.replace(/[A-Z]/g, (cap) => {\n\t\t\t\treturn `-${cap.toLowerCase()}`;\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Convert first letter only to lowercase\n\t\t */\n\t\tinitLowerCase: function() {\n\t\t\tif (!this) {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\treturn this.charAt(0).toLowerCase() + this.slice(1);\n\t\t},\n\n\t\t/**\n\t\t * Convert URL params to object\n\t\t */\n\t\tunserialize: function () {\n\t\t\tif (!this) {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\tconst\n\t\t\t\tstr = decodeURIComponent(this),\n\t\t\t\tchunks = str.split('&'),\n\t\t\t\tobj = {};\n\t\t\tfor (const chunk of chunks) {\n\t\t\t\tconst [key, val] = chunk.split('=', 2);\n\t\t\t\tobj[key] = val;\n\t\t\t}\n\t\t\treturn obj;\n\t\t}\n\t});\n\n\n\t/**\n\t * Array class prototype extension\n\t */\n\t$.extend(Array.prototype, {\n\n\t\t/**\n\t\t * Extend an array with another one\n\t\t */\n\t\textendWith: function(source) {\n\t\t\tfor (const element of source) {\n\t\t\t\tthis.push(element);\n\t\t\t}\n\t\t}\n\t});\n\n\n\t/**\n\t * Global JQuery object extensions\n\t */\n\t$.extend($, {\n\n\t\t/**\n\t\t * Extend source object with given extensions, but only for properties matching\n\t\t * given prefix.\n\t\t *\n\t\t * @param source: source object, which will be updated in-place\n\t\t * @param prefix: property names prefix selector\n\t\t * @param getter: optional getter used to extract final value\n\t\t * @param extensions: list of extensions object\n\t\t * @returns {*}: modified source object\n\t\t */\n\t\textendPrefix: function(source, prefix, getter, ...extensions) {\n\t\t\tfor (const extension of extensions) {\n\t\t\t\tfor (const [key, value] of Object.entries(extension)) {\n\t\t\t\t\tif (key.startsWith(prefix)) {\n\t\t\t\t\t\tsource[key.substring(prefix.length).initLowerCase()] =\n\t\t\t\t\t\t\tgetter === null ? value : getter(value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn source;\n\t\t},\n\n\t\t/**\n\t\t * Extend source with given extensions, but only for existing attributes\n\t\t *\n\t\t * @param source: source object, which will be updated in-place\n\t\t * @param getter: optional getter used to extract final value\n\t\t * @param extensions: list of extensions object\n\t\t * @returns {*}: modified source object\n\t\t */\n\t\textendOnly: function(source, getter, ...extensions) {\n\t\t\tfor (const extension of extensions) {\n\t\t\t\tfor (const [key, value] of Object.entries(extension)) {\n\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(source, key)) {\n\t\t\t\t\t\tsource[key] = getter === null ? value : getter(value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn source;\n\t\t}\n\t});\n\n\n\t/**\n\t * New JQuery functions\n\t */\n\t$.fn.extend({\n\n\t\t/**\n\t\t * Check if current object is empty or not\n\t\t */\n\t\texists: function() {\n\t\t\treturn $(this).length > 0;\n\t\t},\n\n\t\t/**\n\t\t * Get object if it supports given CSS class,\n\t\t * otherwise look for parents\n\t\t */\n\t\tobjectOrParentWithClass: function(klass) {\n\t\t\tif (this.hasClass(klass)) {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\treturn this.parents(`.${klass}`);\n\t\t},\n\n\t\t/**\n\t\t * Build an array of attributes of the given selection\n\t\t */\n\t\tlistattr: function(attr) {\n\t\t\tconst result = [];\n\t\t\tthis.each((index, element) => {\n\t\t\t\tresult.push($(element).attr(attr));\n\t\t\t});\n\t\t\treturn result;\n\t\t},\n\n\t\t/**\n\t\t * CSS style function - get or set object style attribute\n\t\t * Code from Aram Kocharyan on stackoverflow.com\n\t\t */\n\t\tstyle: function(styleName, value, priority) {\n\t\t\tlet result = this;\n\t\t\tthis.each((idx, node) => {\n\t\t\t\t// Ensure we have a DOM node\n\t\t\t\tif (typeof node === 'undefined') {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t// CSSStyleDeclaration\n\t\t\t\tconst style = node.style;\n\t\t\t\t// Getter/Setter\n\t\t\t\tif (typeof styleName !== 'undefined') {\n\t\t\t\t\tif (typeof value !== 'undefined') {\n\t\t\t\t\t\t// Set style property\n\t\t\t\t\t\tpriority = typeof (priority) !== 'undefined' ? priority : '';\n\t\t\t\t\t\tstyle.setProperty(styleName, value, priority);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Get style property\n\t\t\t\t\t\tresult = style.getPropertyValue(styleName);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Get CSSStyleDeclaration\n\t\t\t\t\tresult = style;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn result;\n\t\t},\n\n\t\t/**\n\t\t * Remove CSS classes starting with a given prefix\n\t\t */\n\t\tremoveClassPrefix: function(prefix) {\n\t\t\tthis.each(function(i, it) {\n\t\t\t\tconst classes = it.className.split(/\\s+/).map((item) => {\n\t\t\t\t\treturn item.startsWith(prefix) ? \"\" : item;\n\t\t\t\t});\n\t\t\t\tit.className = $.trim(classes.join(\" \"));\n\t\t\t});\n\t\t\treturn this;\n\t\t}\n\n\t});\n\n\n\t/**\n\t * JQuery 'hasvalue' function expression\n\t * Filter inputs containing value:\n\t *\n\t *     $('span:hasvalue(\"value\")')\n\t */\n\t$.expr[\":\"].hasvalue = function (obj, index, meta /*, stack*/) {\n\t\treturn $(obj).val() !== \"\";\n\t};\n\n\n\t/**\n\t * JQuery 'econtains' function expression\n\t * Case insensitive contains expression:\n\t *\n\t *     $('span:econtains(\"text\")')\n\t */\n\t$.expr[\":\"].econtains = function (obj, index, meta /*, stack*/) {\n\t\treturn (obj.textContent || obj.innerText || $(obj).text() || \"\").toLowerCase() === meta[3].toLowerCase();\n\t};\n\n\n\t/**\n\t * JQuery 'withtext' expression\n\t * Case sensitive exact search expression.\n\t * For example:\n\t *\n\t *    $('span:withtext(\"text\")')\n\t */\n\t$.expr[\":\"].withtext = function (obj, index, meta /*, stack*/) {\n\t\treturn (obj.textContent || obj.innerText || $(obj).text() || \"\") === meta[3];\n\t};\n\n\n\t/**\n\t * JQuery filter on parents class\n\t * This filter is often combined with \":not()\" to select DOM objects which don't have\n\t * parents of a given class.\n\t * For example:\n\t *\n\t *   $('.hint:not(:parents(.nohints))', element);\n\t *\n\t * will select all elements with \".hint\" class which don't have a parent with '.nohints' class.\n\t */\n\t$.expr[':'].parents = function (obj, index, meta /*, stack*/) {\n\t\treturn $(obj).parents(meta[3]).length > 0;\n\t};\n\n\n\t$(document).ready(() => {\n\t\tconst html = $('html');\n\t\thtml.removeClass('no-js')\n\t\t\t.addClass('js');\n\t\tMyAMS.core.executeFunctionByName(html.data('ams-init-page') ||\n\t\t\tMyAMS.config.initPage);\n\t});\n}\n\n\n/**\n * Get list of modules names required by given element\n *\n * @param element: parent element\n * @returns {*[]}\n */\nexport function getModules(element) {\n\tlet modules = [];\n\tconst mods = element.data('ams-modules');\n\tif (typeof mods === 'string') {\n\t\tmodules = modules.concat(mods.trim().split(/[\\s,;]+/));\n\t} else if (mods) {\n\t\tfor (const [name, props] of Object.entries(mods)) {\n\t\t\tconst entry = {};\n\t\t\tentry[name] = props;\n\t\t\tmodules.push(entry);\n\t\t}\n\t}\n\t$('[data-ams-modules]', element).each((idx, elt) => {\n\t\tconst mods = $(elt).data('ams-modules');\n\t\tif (typeof mods === 'string') {\n\t\t\tmodules = modules.concat(mods.trim().split(/[\\s,;]+/));\n\t\t} else if (mods) {\n\t\t\tfor (const [name, props] of Object.entries(mods)) {\n\t\t\t\tconst entry = {};\n\t\t\t\tentry[name] = props;\n\t\t\t\tmodules.push(entry);\n\t\t\t}\n\t\t}\n\t});\n\treturn [...new Set(modules)];\n}\n\n\n/**\n * Main page initialization\n */\nexport function initPage() {\n\treturn MyAMS.require('i18n').then(() => {\n\t\tMyAMS.dom = getDOM();\n\t\tMyAMS.theme = getTheme();\n\t\tconst modules = getModules(MyAMS.dom.root);\n\t\tMyAMS.require(...modules).then(() => {\n\t\t\tfor (const moduleName of MyAMS.config.modules) {\n\t\t\t\texecuteFunctionByName(`MyAMS.${moduleName}.init`);\n\t\t\t}\n\t\t\tMyAMS.core.executeFunctionByName(MyAMS.dom.page.data('ams-init-content') ||\n\t\t\t\tMyAMS.config.initContent);\n\t\t});\n\t});\n}\n\n\n/**\n * Main content initialization; this function will initialize all plug-ins, callbacks and\n * events listeners in the selected element\n *\n * @param element: source element to initialize\n */\nexport function initContent(element=null) {\n\n\tif (element === null) {\n\t\telement = $('body');\n\t}\n\telement = $(element);\n\n\tfunction initElementModules() {\n\t\tfor (const moduleName of MyAMS.config.modules) {\n\t\t\texecuteFunctionByName(`MyAMS.${moduleName}.initElement`, document, element);\n\t\t}\n\t}\n\n\treturn new Promise((resolve, reject) => {\n\t\tconst modules = getModules(element);\n\t\treturn MyAMS.require(...modules).then(() => {\n\t\t\telement.trigger('before-init.ams.content');\n\t\t\tif (MyAMS.config.useRegistry && !element.data('ams-disable-registry')) {\n\t\t\t\tMyAMS.registry.initElement(element).then(() => {\n\t\t\t\t\tinitElementModules();\n\t\t\t\t}).then(() => {\n\t\t\t\t\tMyAMS.registry.run(element);\n\t\t\t\t\telement.trigger('after-init.ams.content');\n\t\t\t\t}).then(resolve);\n\t\t\t} else {\n\t\t\t\tinitElementModules();\n\t\t\t\tresolve();\n\t\t\t}\n\t\t}, () => {\n\t\t\treject(\"Missing MyAMS modules!\");\n\t\t});\n\t});\n}\n\n\n/**\n * Container clearing function.\n *\n * This function is called before replacing an element contents with new DOM elements;\n * an 'ams.container.before-cleaning' event is triggered, with arguments which are the\n * container and a \"veto\" object containing a single boolean \"veto\" property; if any\n * handler attached to this event set the \"veto\" property to *true*,\n *\n * The function returns a Promise which is resolved with the opposite value of the \"veto\"\n * property.\n *\n * @param element: the parent element which may be cleaned\n * @returns {Promise<boolean>}\n */\nexport function clearContent(element) {\n\tif (typeof element === 'string') {\n\t\telement = $(element);\n\t}\n\treturn new Promise((resolve, reject) => {\n\t\tconst veto = { veto: false };\n\t\t$(document).trigger('clear.ams.content', [veto, element]);\n\t\tif (!veto.veto) {\n\t\t\tMyAMS.require('events').then(() => {\n\t\t\t\t$(MyAMS.events.getHandlers(element, 'clear.ams.content')).each((idx, elt) => {\n\t\t\t\t\t$(elt).trigger('clear.ams.content', [veto]);\n\t\t\t\t\tif (veto.veto) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (!veto.veto) {\n\t\t\t\t\t$(MyAMS.events.getHandlers(element, 'cleared.ams.content')).each((idx, elt) => {\n\t\t\t\t\t\t$(elt).trigger('cleared.ams.content');\n\t\t\t\t\t});\n\t\t\t\t\t$(document).trigger('cleared.ams.content', [element]);\n\t\t\t\t}\n\t\t\t\tresolve(!veto.veto);\n\t\t\t}, () => {\n\t\t\t\treject(\"Missing MyAMS.events module!\");\n\t\t\t});\n\t\t} else {\n\t\t\tresolve(!veto.veto);\n\t\t}\n\t});\n}\n\n\n/**\n * Get an object given by name\n *\n * @param objectName: dotted name of the object\n * @param context: source context, or window if undefined\n * @returns {Object|undefined}\n */\nexport function getObject(objectName, context) {\n\tif (!objectName) {\n\t\treturn undefined;\n\t}\n\tif (typeof objectName !== 'string') {\n\t\treturn objectName;\n\t}\n\tconst namespaces = objectName.split('.');\n\tcontext = (context === undefined || context === null) ? window : context;\n\tfor (const name of namespaces) {\n\t\ttry {\n\t\t\tcontext = context[name];\n\t\t} catch (exc) {\n\t\t\treturn undefined;\n\t\t}\n\t}\n\treturn context;\n}\n\n\n/**\n * Get function object from name\n *\n * @param functionName: dotted name of the function\n * @param context: source context; window if undefined\n * @returns {function|undefined}\n */\nexport function getFunctionByName(functionName, context) {\n\tif ((functionName === null) || (typeof functionName === 'undefined')) {\n\t\treturn undefined;\n\t} else if (typeof functionName === 'function') {\n\t\treturn functionName;\n\t} else if (typeof functionName !== 'string') {\n\t\treturn undefined;\n\t}\n\tconst\n\t\tnamespaces = functionName.split(\".\"),\n\t\tfunc = namespaces.pop();\n\tcontext = (context === undefined || context === null) ? window : context;\n\tfor (const name of namespaces) {\n\t\ttry {\n\t\t\tcontext = context[name];\n\t\t} catch (e) {\n\t\t\treturn undefined;\n\t\t}\n\t}\n\ttry {\n\t\treturn context[func];\n\t} catch (e) {\n\t\treturn undefined;\n\t}\n}\n\n\n/**\n * Execute a function, given by it's name\n *\n * @param functionName: dotted name of the function\n * @param context: parent context, or window if undefined\n * @param args...: optional function arguments\n * @returns {*}: result of the called function\n */\nexport function executeFunctionByName(functionName, context /*, args */) {\n\tconst func = getFunctionByName(functionName, window);\n\tif (typeof func === 'function') {\n\t\tconst args = Array.prototype.slice.call(arguments, 2);\n\t\treturn func.apply(context, args);\n\t}\n}\n\n\n/**\n * Get target URL matching given source\n *\n * Given URL can include variable names (with their namespace), given between braces,\n * as in {MyAMS.env.baseURL}\n */\nexport function getSource(url) {\n\treturn url.replace(/{[^{}]*}/g, (match) => {\n\t\treturn getObject(match.substr(1, match.length - 2));\n\t});\n}\n\n\n/**\n * Dynamic script loader function\n *\n * @param url: script URL\n * @param options: a set of options to be added to AJAX call\n */\nexport function getScript(url, options={}) {\n\n\treturn new Promise((resolve, reject) => {\n\t\tconst defaults = {\n\t\t\tdataType: 'script',\n\t\t\turl: getSource(url),\n\t\t\tcache: MyAMS.env.devmode,\n\t\t\tasync: true\n\t\t};\n\t\tconst settings = $.extend({}, defaults, options);\n\t\t$.ajax(settings).then(() => {\n\t\t\tresolve(url);\n\t\t}, (xhr, status, error) => {\n\t\t\treject(error);\n\t\t})\n\t});\n}\n\n\n/**\n * Get CSS matching given URL\n *\n * @param url: CSS source URL\n * @param name: name of the given CSS\n */\nexport function getCSS(url, name) {\n\n\treturn new Promise((resolve /*, reject */) => {\n\t\tconst head = $('HEAD');\n\t\tlet style = $(`style[data-ams-id=\"${name}\"]`, head);\n\t\tif (style.length === 0) {\n\t\t\tstyle = $('<style>').attr('data-ams-id', name)\n\t\t\t\t\t\t\t\t.text(`@import \"${getSource(url)}\";`)\n\t\t\t\t\t\t\t\t.appendTo(head);\n\t\t\tconst styleInterval = setInterval(() => {\n\t\t\t\ttry {\n\t\t\t\t\t// eslint-disable-next-line no-unused-vars\n\t\t\t\t\tconst _check = style[0].sheet.cssRules;  // Is only populated when file is loaded\n\t\t\t\t\tclearInterval(styleInterval);\n\t\t\t\t\tresolve(true);\n\t\t\t\t} catch (e) {\n\t\t\t\t\t// CSS is not loaded yet, just wait...\n\t\t\t\t}\n\t\t\t}, 10);\n\t\t} else {\n\t\t\tresolve(false);\n\t\t}\n\t});\n}\n\n\n/**\n * Extract parameter value from given query string\n *\n * @param src: source URL\n * @param varName: variable name\n * @returns {boolean|*}\n */\nexport function getQueryVar(src, varName) {\n\t// Check src\n\tif ((typeof src !== 'string') || (src.indexOf('?') < 0)) {\n\t\treturn undefined;\n\t}\n\tif (!src.endsWith('&')) {\n\t\tsrc += '&';\n\t}\n\t// Dynamic replacement RegExp\n\tconst regex = new RegExp(`.*?[&\\\\?]${varName}=(.*?)&.*`);\n\t// Apply RegExp to the query string\n\tconst val = src.replace(regex, \"$1\");\n\t// If the string is the same, we didn't find a match - return null\n\treturn val === src ? null : val;\n}\n\n\n/**\n * Generate a random ID\n */\nexport function generateId() {\n\n\tfunction s4() {\n\t\treturn Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n\t}\n\n\treturn s4() + s4() + s4() + s4();\n}\n\n\n/**\n * Generate a random unique UUID\n */\nexport function generateUUID() {\n\tlet d = new Date().getTime();\n\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n\t\tconst r = (d + Math.random() * 16) % 16 | 0;\n\t\td = Math.floor(d / 16);\n\t\treturn (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16);\n\t});\n}\n\n\n/**\n * Switch a FontAwesome icon.\n * Use FontAwesome API to get image as SVG, if FontAwesome is loaded from Javascript and is using\n * SVG auto-replace, otherwise just switch CSS class.\n *\n * @param element: source element\n * @param fromClass: initial CSS class (without \"fa-\" prefix)\n * @param toClass: new CSS class (without \"fa-\" prefix)\n * @param prefix: icon prefix (defaults to \"fa\")\n */\nexport function switchIcon(element, fromClass, toClass, prefix) {\n\tif (typeof element === 'string') {\n\t\telement = $(element);\n\t}\n\tif (!prefix) {\n\t\tprefix = 'fa'\n\t}\n\tif (MyAMS.config.useSVGIcons) {\n\t\tconst iconDef = FontAwesome.findIconDefinition({\n\t\t\ticonName: toClass,\n\t\t\tprefix: prefix\n\t\t});\n\t\tif (iconDef) {\n\t\t\telement.html(FontAwesome.icon(iconDef).html);\n\t\t}\n\t} else {\n\t\telement.removeClass(`${prefix}-${fromClass}`)\n\t\t\t.addClass(`${prefix}-${toClass}`);\n\t}\n}\n\n\n/**\n * MyAMS base environment\n *\n * @type {{\n *     bundle: boolean,\n *     devmode: boolean,\n *     devext: string,\n *     extext: string,\n *     theme: string,\n *     baseURL: string\n * }}\n */\nfunction getEnv($) {\n\tconst\n\t\tscript = $(\n\t\t\t'script[src*=\"/myams.js\"], script[src*=\"/myams-dev.js\"], ' +\n\t\t\t'script[src*=\"/emerald.js\"], script[src*=\"/emerald-dev.js\"], ' +\n\t\t\t'script[src*=\"/darkmode.js\"], script[src*=\"/darkmode-dev.js\"], ' +\n\t\t\t'script[src*=\"/myams-core.js\"], script[src*=\"/myams-core-dev.js\"], ' +\n\t\t\t'script[src*=\"/myams-mini.js\"], script[src*=\"/myams-mini-dev.js\"]'),\n\t\tsrc = script.attr('src'),\n\t\tdevmode = src ? src.indexOf('-dev.js') >= 0 : true,  // testing mode\n\t\tbundle = src ? (src.indexOf('-core') < 0 && src.indexOf('-mini') < 0) : true;\n\treturn {\n\t\tbundle: bundle,\n\t\tdevmode: devmode,\n\t\tdevext: devmode ? '-dev' : '',\n\t\textext: devmode ? '' : '.min',\n\t\tbaseURL: src ? src.substring(0, src.lastIndexOf('/') + 1) : '/'\n\t};\n}\n\n\n/**\n * MyAMS theme getter\n */\nfunction getTheme() {\n\tlet theme;\n\tif (MyAMS.env.bundle) {\n\t\ttheme = MyAMS.theme;\n\t} else {\n\t\tconst css = $(\n\t\t\t'link[href*=\"/myams.css\"], link[href*=\"/emerald.css\"], link[href*=\"/darkmode.css\"]'\n\t\t);\n\t\ttheme = css.length > 0 ? /.*\\/([a-z]+).css/.exec(css.attr('href'))[1] : 'unknown';\n\t}\n\treturn theme;\n}\n\n\n/**\n * Get base DOM elements\n */\nfunction getDOM() {\n\treturn {\n\t\tpage: $('html'),\n\t\troot: $('body'),\n\t\tnav: $('nav'),\n\t\tmain: $('#main'),\n\t\tleftPanel: $('#left-panel'),\n\t\tshortcuts: $('#shortcuts')\n\t}\n}\n\n\n/**\n * MyAMS default configuration\n *\n * @type {Object}:\n *      modules: array of loaded extension modules\n *      ajaxNav: true if AJAX navigation is enabled\n *      enableFastclick: true is \"smart-click\" extension is to be activated on mobile devices\n *      menuSpeed: menu speed, in miliseconds\n *      initPage: dotted name of MyAMS global init function\n *      initContent: dotted name of MyAMS content init function\n *      alertContainerCLass: class of MyAMS alerts container\n *      safeMethods: HTTP methods which can be used without CSRF cookie verification\n *      csrfCookieName: CSRF cookie name\n *      csrfHeaderName: CSRF header name\n *      enableTooltips: global tooltips enable flag\n *      enableHtmlTooltips: allow HTML code in tooltips\n *      warnOnFormChange: flag to specify if form changes should be warned\n *      formChangeCallback: global form change callback\n *      isMobile: boolean, true if device is detected as mobile\n *      device: string: 'mobile' or 'desktop'\n */\nconst\n\tisMobile = /iphone|ipad|ipod|android|blackberry|mini|windows\\sce|palm/i.test(\n\t\t\t\t\tnavigator.userAgent.toLowerCase()),\n\tconfig = {\n\t\tmodules: [],\n\t\tajaxNav: true,\n\t\tenableFastclick: true,\n\t\tuseSVGIcons:\n\t\t\t(window.FontAwesome !== undefined) && (FontAwesome.config.autoReplaceSvg === 'nest'),\n\t\tmenuSpeed: 235,\n\t\tinitPage: 'MyAMS.core.initPage',\n\t\tinitContent: 'MyAMS.core.initContent',\n\t\tclearContent: 'MyAMS.core.clearContent',\n\t\tuseRegistry: true,\n\t\talertsContainerClass: 'toast-wrapper',\n\t\tsafeMethods: ['GET', 'HEAD', 'OPTIONS', 'TRACE'],\n\t\tcsrfCookieName: 'csrf_token',\n\t\tcsrfHeaderName: 'X-CSRF-Token',\n\t\tenableTooltips: true,\n\t\tenableHtmlTooltips: true,\n\t\twarnOnFormChange: true,\n\t\tformChangeCallback: null,\n\t\tisMobile: isMobile,\n\t\tdevice: isMobile ? 'mobile' : 'desktop'\n\t},\n\tcore = {\n\t\tgetObject: getObject,\n\t\tgetFunctionByName: getFunctionByName,\n\t\texecuteFunctionByName: executeFunctionByName,\n\t\tgetSource: getSource,\n\t\tgetScript: getScript,\n\t\tgetCSS: getCSS,\n\t\tgetQueryVar: getQueryVar,\n\t\tgenerateId: generateId,\n\t\tgenerateUUID: generateUUID,\n\t\tswitchIcon: switchIcon,\n\t\tinitPage: initPage,\n\t\tinitContent: initContent,\n\t\tclearContent: clearContent\n\t};\n\n\nconst MyAMS = {\n\t$: $,\n\tenv: getEnv($),\n\tconfig: config,\n\tcore: core,\n\tregistry: registry\n};\nwindow.MyAMS = MyAMS;\n\nexport default MyAMS;\n","/* global $, MyAMS */\n/**\n * MyAMS dynamic plug-ins loading management\n */\n\n\n/**\n * Plug-ins loading order\n *  - initialize registry\n *  - initialize DOM data attributes\n *  - register all plug-ins from given DOM element\n *  - load all plug-ins from given DOM element\n *  - get list of disabled plug-ins into given DOM element\n *  - call callbacks for all enabled plug-ins\n *  - call callbacks for enabled \"async\" plug-ins\n */\n\n/**\n * Base plug-in class\n */\nclass Plugin {\n\n\tconstructor(name, props={}, loaded=false) {\n\t\t// plug-in name\n\t\tthis.name = name;\n\t\t// plug-in source URL\n\t\tthis.src = props.src;\n\t\t// plug-in associated CSS\n\t\tthis.css = props.css;\n\t\t// plug-in callbacks\n\t\tthis.callbacks = [];\n\t\tif (props.callback) {\n\t\t\tthis.callbacks.push({\n\t\t\t\tcallback: props.callback,\n\t\t\t\tcontext: props.context || 'body'\n\t\t\t});\n\t\t}\n\t\t// async plug-ins are loaded simultaneously; sync ones are loaded and called after...\n\t\tthis.async = props.async === undefined ? true : props.async;\n\t\t// loaded flag\n\t\tthis.loaded = loaded;\n\t}\n\n\t/**\n\t * Load plug-in from remote script\n\t *\n\t * @returns {Promise<void>|*}\n\t */\n\tload() {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif (!this.loaded) {\n\t\t\t\tlet deferred = [];\n\t\t\t\tif (this.src) {\n\t\t\t\t\tdeferred.push(MyAMS.core.getScript(this.src));\n\t\t\t\t}\n\t\t\t\tif (this.css) {\n\t\t\t\t\tdeferred.push(MyAMS.core.getCSS(this.css, `${this.name}_css`));\n\t\t\t\t}\n\t\t\t\t$.when.apply($, deferred).then(() => {\n\t\t\t\t\tthis.loaded = true;\n\t\t\t\t\tresolve();\n\t\t\t\t}, reject);\n\t\t\t} else {\n\t\t\t\tresolve();\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Run plug-in\n\t *\n\t * @param element: plug-in execution context\n\t */\n\trun(element) {\n\t\tconst results = [];\n\t\tfor (const callback of this.callbacks) {\n\t\t\tif (typeof callback.callback === 'string') {\n\t\t\t\tconsole.debug(`Resolving callback ${callback.callback}`);\n\t\t\t\tcallback.callback = MyAMS.core.getFunctionByName(callback.callback) || callback.callback;\n\t\t\t}\n\t\t\tresults.push(callback.callback(element, callback.context));\n\t\t}\n\t\treturn Promise.all(results);\n\t}\n}\n\n\n/**\n * Plug-ins registry class\n */\nclass PluginsRegistry {\n\n\tconstructor() {\n\t\tthis.plugins = new Map();\n\t}\n\n\t/**\n\t * Register new plug-in\n\t *\n\t * @param props: plugin function caller, or object containing plug-in properties\n\t * @param name: plug-in unique name\n\t */\n\tregister(props, name) {\n\t\t// check arguments\n\t\tif (!name && Object.prototype.hasOwnProperty.call(props,'name')) {\n\t\t\tname = props.name;\n\t\t}\n\t\t// check for already registered plug-in\n\t\tconst plugins = this.plugins;\n\t\tif (plugins.has(name)) {\n\t\t\tif (window.console) {\n\t\t\t\tconsole.debug && console.debug(`Plug-in ${name} is already registered!`);\n\t\t\t}\n\t\t\tconst plugin = plugins.get(name);\n\t\t\tlet addContext = true;\n\t\t\tfor (const callback of plugin.callbacks) {\n\t\t\t\tif ((callback.callback === props.callback) && (callback.context === props.context)) {\n\t\t\t\t\taddContext = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (addContext) {\n\t\t\t\tplugin.callbacks.push({\n\t\t\t\t\tcallback: props.callback,\n\t\t\t\t\tcontext: props.context || 'body'\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn plugin;\n\t\t}\n\t\t// register new plug-in\n\t\tif (typeof props === 'string') {  // callable name\n\t\t\tprops = MyAMS.core.getFunctionByName(props);\n\t\t}\n\t\tif (typeof props === 'function') {  // callable object\n\t\t\tplugins.set(name, new Plugin(name, {\n\t\t\t\tcallback: props\n\t\t\t}, true));\n\t\t} else if (typeof props === 'object') {  // plug-in properties object\n\t\t\tplugins.set(name, new Plugin(name, props, !(props.src || props.css)));\n\t\t}\n\t\t// check callback\n\t\treturn plugins.get(name);\n\t}\n\n\t/**\n\t * Load plug-ins declared into DOM element\n\t *\n\t * @param element\n\t */\n\tload(element) {\n\t\t// scan element for new plug-ins\n\t\tconst\n\t\t\tasyncPlugins = [],\n\t\t\tsyncPlugins = [];\n\t\t$('[data-ams-plugins]', element).each((idx, elt) => {\n\t\t\tconst\n\t\t\t\tsource = $(elt),\n\t\t\t\tnames = source.data('ams-plugins');\n\t\t\tlet plugin,\n\t\t\t\tprops;\n\t\t\tif (typeof names === 'string') {\n\t\t\t\tfor (const name of names.split(/[\\s,;]+/)) {\n\t\t\t\t\tconst lowerName = name.toLowerCase();\n\t\t\t\t\tprops = {\n\t\t\t\t\t\tsrc: source.data(`ams-plugin-${lowerName}-src`),\n\t\t\t\t\t\tcss: source.data(`ams-plugin-${lowerName}-css`),\n\t\t\t\t\t\tcallback: source.data(`ams-plugin-${lowerName}-callback`),\n\t\t\t\t\t\tcontext: source,\n\t\t\t\t\t\tasync: source.data(`ams-plugin-${lowerName}-async`)\n\t\t\t\t\t};\n\t\t\t\t\tplugin = this.register(props, name);\n\t\t\t\t\tif (!plugin.loaded) {\n\t\t\t\t\t\tif (props.async === false) {\n\t\t\t\t\t\t\tsyncPlugins.push(plugin.load());\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tasyncPlugins.push(plugin.load());\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {  // JSON plug-in declaration\n\t\t\t\tfor (props of $.isArray(names) ? names : [names]) {\n\t\t\t\t\t$.extend(props, {\n\t\t\t\t\t\tcontext: source\n\t\t\t\t\t});\n\t\t\t\t\tplugin = this.register(props);\n\t\t\t\t\tif (!plugin.loaded) {\n\t\t\t\t\t\tif (plugin.async === false) {\n\t\t\t\t\t\t\tsyncPlugins.push(plugin.load());\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tasyncPlugins.push(plugin.load());\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t// load plug-ins\n\t\tlet result = $.when.apply($, asyncPlugins);\n\t\t// eslint-disable-next-line no-unused-vars\n\t\tfor (const plugin of syncPlugins) {\n\t\t\tresult = result.done(() => {});\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * Run registered plug-ins on given element\n\t *\n\t * @param element: source element\n\t * @param names: array list of plug-ins to activate, or all registered plug-ins if null\n\t */\n\trun(element, names=null) {\n\n\t\t// check for disabled plug-ins\n\t\tconst disabled = new Set();\n\t\t$('[data-ams-plugins-disabled]', element).each((idx, elt) => {\n\t\t\tconst names = $(elt).data('ams-plugins-disabled').split(/[\\s,;]+/);\n\t\t\tfor (const name of names) {\n\t\t\t\tdisabled.add(name);\n\t\t\t}\n\t\t});\n\n\t\tconst plugins = this.plugins;\n\t\tif (names) {  // only run given plug-ins, EVEN DISABLED ONES\n\t\t\tfor (const name of names) {\n\t\t\t\tif (plugins.has(name)) {\n\t\t\t\t\tplugins.get(name).run(element);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {  // run all plug-ins, except disabled ones\n\t\t\tfor (const [name, plugin] of plugins.entries()) {\n\t\t\t\tif (disabled.has(name)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tplugin.run(element);\n\t\t\t}\n\t\t}\n\t}\n}\n\nconst plugins = new PluginsRegistry();\n\n\nexport const registry = {\n\n\t/**\n\t * Plug-ins registry\n\t */\n\tplugins: plugins,\n\n\t/**\n\t * Initialize plug-ins registry from DOM\n\t *\n\t * @param element: source element to initialize from\n\t */\n\tinitElement: function(element='#content') {\n\t\t// populate data attributes\n\t\tMyAMS.registry.initData(element);\n\t\t// load plug-ins from given DOM element\n\t\treturn plugins.load(element);\n\t},\n\n\t/**\n\t * Register a new plug-in through Javascript instead of HTML data attributes\n\t *\n\t * @param plugin: callable object, or object containing plug-in properties\n\t * @param name: plug-in name, used if @plugin is a function\n\t * @param callback: callback function which can be called after plug-in registration\n\t */\n\tregister: function(plugin, name, callback) {\n\t\treturn plugins.register(plugin, name, callback);\n\t},\n\n\t/**\n\t * Data attributes initializer\n\t *\n\t * This function converts a single \"data-ams-data\" attribute into a set of several \"data-*\"\n\t * attributes.\n\t * This can be used into HTML templates engines which don't allow to create dynamic attributes\n\t * easilly.\n\t *\n\t * @param element: parent element\n\t */\n\tinitData: function(element) {\n\t\t$('[data-ams-data]', element).each((idx, elt) => {\n\t\t\tconst\n\t\t\t\t$elt = $(elt),\n\t\t\t\tdata = $elt.data('ams-data');\n\t\t\tif (data) {\n\t\t\t\tfor (const name in data) {\n\t\t\t\t\tif (!Object.prototype.hasOwnProperty.call(data, name)) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tlet elementData = data[name];\n\t\t\t\t\tif (typeof elementData !== 'string') {\n\t\t\t\t\t\telementData = JSON.stringify(elementData);\n\t\t\t\t\t}\n\t\t\t\t\t$elt.attr(`data-${name}`, elementData);\n\t\t\t\t}\n\t\t\t}\n\t\t\t$elt.removeAttr('data-ams-data');\n\t\t});\n\t},\n\n\t/**\n\t * Run registered plug-ins on given element\n\t *\n\t * @param element: DOM element\n\t * @param names: names of plug-in to run on given element; all if null\n\t */\n\trun: function(element, names=null) {\n\t\treturn plugins.run(element, names);\n\t}\n};\n","/* global MyAMS */\n/**\n * MyAMS dynamic module loader\n */\n\nconst $ = MyAMS.$;\n\n\nfunction getModule(module, name) {\n\tlet moduleSrc,\n\t\tmoduleCss;\n\tif (typeof module === 'object') {\n\t\tmoduleSrc = module.src;\n\t\tmoduleCss = module.css;\n\t} else {\n\t\tif (module.startsWith('http://') || module.startsWith('https://')) {\n\t\t\tmoduleSrc = module;\n\t\t} else if (module.endsWith('.js')) {  // custom module with relative path\n\t\t\tmoduleSrc = module;\n\t\t} else {  // standard MyAMS module\n\t\t\tmoduleSrc = `${MyAMS.env.baseURL}mod-${module}${MyAMS.env.devext}.js`;\n\t\t}\n\t}\n\tconst deferred = [\n\t\tMyAMS.core.getScript(moduleSrc, {async: true}, console.error)\n\t];\n\tif (moduleCss) {\n\t\tdeferred.push(MyAMS.core.getCSS(moduleCss, `${name}_css`));\n\t}\n\treturn deferred;\n}\n\n\n/**\n * Dynamic loading of MyAMS modules\n *\n * @param modules: single module name, or array of modules names\n * @returns Promise\n */\nexport default function myams_require(...modules) {\n\n\treturn new Promise((resolve, reject) => {\n\n\t\tconst\n\t\t\tnames = [],\n\t\t\tdeferred = [],\n\t\t\tloaded = MyAMS.config.modules;\n\n\t\tfor (const module of modules) {\n\t\t\tif (typeof module === 'string') {\n\t\t\t\tif (loaded.indexOf(module) < 0) {\n\t\t\t\t\tnames.push(module);\n\t\t\t\t\tdeferred.extendWith(getModule(module));\n\t\t\t\t}\n\t\t\t} else if ($.isArray(module)) {  // strings array\n\t\t\t\tfor (const name of module) {\n\t\t\t\t\tif (loaded.indexOf(name) < 0) {\n\t\t\t\t\t\tnames.push(name);\n\t\t\t\t\t\tdeferred.extendWith(getModule(name));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {  // object\n\t\t\t\tfor (const [name, props] of Object.entries(module)) {\n\t\t\t\t\tif (loaded.indexOf(name) < 0) {\n\t\t\t\t\t\tnames.push(name);\n\t\t\t\t\t\tdeferred.extendWith(getModule(props, name));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t$.when.apply($, deferred)\n\t\t\t.then(() => {\n\t\t\t\tfor (const moduleName of names) {\n\t\t\t\t\tif (loaded.indexOf(moduleName) < 0) {\n\t\t\t\t\t\tloaded.push(moduleName);\n\t\t\t\t\t\tMyAMS.core.executeFunctionByName(`MyAMS.${moduleName}.init`);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tresolve();\n\t\t\t}, () => {\n\t\t\t\treject(`Can't load requested modules (${names})!`);\n\t\t\t});\n\t});\n}\n","/**\n * MyAMS core features\n *\n * This script is used to build MyAMS mini-core-package.\n *\n * This package only includes MyAMS core features, but not CSS or external modules\n * which can be loaded using MyAMS.require function.\n */\n\nimport MyAMS, { init } from \"./ext-base\";\nimport myams_require from \"./ext-require\";\n\n\nMyAMS.$.extend(MyAMS, {\n\trequire: myams_require\n});\n\nconst html = MyAMS.$('html');\nif (html.data('ams-init') !== false) {\n\tinit(MyAMS.$);\n}\n\n\n/** Version: 1.11.0  */\n","module.exports = jquery;"],"sourceRoot":""}
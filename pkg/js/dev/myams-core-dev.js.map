{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/ext-base.js","webpack:///./src/js/ext-registry.js","webpack:///./src/js/ext-require.js","webpack:///./src/js/myams-core.js","webpack:///external \"jquery\""],"names":["window","jQuery","$","require","init","extend","String","prototype","camelCase","replace","dash","rest","toUpperCase","deCase","cap","toLowerCase","initLowerCase","charAt","slice","unserialize","str","decodeURIComponent","chunks","split","obj","chunk","key","val","extendPrefix","source","prefix","getter","extensions","extension","Object","entries","value","startsWith","substring","length","extendOnly","hasOwnProperty","fn","exists","objectOrParentWithClass","klass","hasClass","parents","listattr","attr","result","each","index","element","push","style","styleName","priority","idx","node","setProperty","getPropertyValue","removeClassPrefix","i","it","classes","className","map","item","trim","join","document","ready","html","removeClass","addClass","MyAMS","core","executeFunctionByName","data","config","initPage","getModules","modules","mods","concat","name","path","entry","elt","Set","then","dom","getDOM","root","moduleName","page","initContent","initElementModules","trigger","useRegistry","registry","initElement","run","clearContent","Promise","resolve","reject","veto","getObject","objectName","context","undefined","namespaces","exc","getFunctionByName","functionName","func","pop","e","args","Array","call","arguments","apply","getSource","url","match","substr","getScript","options","defaults","dataType","cache","env","devmode","async","settings","ajax","xhr","status","error","getCSS","head","text","appendTo","styleInterval","setInterval","_check","sheet","cssRules","clearInterval","getQueryVar","src","varName","indexOf","endsWith","regex","RegExp","generateId","s4","Math","floor","random","toString","generateUUID","d","Date","getTime","c","r","switchIcon","fromClass","toClass","useSVGIcons","iconDef","FontAwesome","findIconDefinition","iconName","icon","getEnv","script","bundle","devext","extext","baseURL","lastIndexOf","nav","main","leftPanel","shortcuts","isMobile","test","navigator","userAgent","ajaxNav","enableFastclick","autoReplaceSvg","menuSpeed","alertsContainerClass","safeMethods","csrfCookieName","csrfHeaderName","enableTooltips","enableHtmlTooltips","warnOnFormChange","formChangeCallback","device","Plugin","props","loaded","Error","css","callbacks","callback","console","debug","PluginsRegistry","plugins","Map","plugin","has","get","set","Boolean","asyncPlugins","syncPlugins","names","lowerName","register","load","isArray","when","done","disabled","add","initData","$elt","elementData","JSON","stringify","getModule","module","moduleSrc","myams_require","deferred"],"mappings":"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","file":"myams-core-dev.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/js/myams-core.js\");\n","/**\n * MyAMS base features\n */\n\nif (!window.jQuery) {\n\twindow.$ = window.jQuery = require('jquery');\n}\n\n\nimport { registry } from \"./ext-registry\";\n\n\n/**\n * Init JQuery extensions\n */\nexport function init($) {\n\n\t/**\n\t * String prototype extensions\n\t */\n\t$.extend(String.prototype, {\n\n\t\t/**\n\t\t * Replace dashed names with camelCase variation\n\t\t */\n\t\tcamelCase: function() {\n\t\t\tif (!this) {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\treturn this.replace(/-(.)/g, (dash, rest) => {\n\t\t\t\treturn rest.toUpperCase();\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Replace camelCase string with dashed name\n\t\t */\n\t\tdeCase: function() {\n\t\t\tif (!this) {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\treturn this.replace(/[A-Z]/g, (cap) => {\n\t\t\t\treturn `-${cap.toLowerCase()}`;\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Convert first letter only to lowercase\n\t\t */\n\t\tinitLowerCase: function() {\n\t\t\tif (!this) {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\treturn this.charAt(0).toLowerCase() + this.slice(1);\n\t\t},\n\n\t\t/**\n\t\t * Convert URL params to object\n\t\t */\n\t\tunserialize: function () {\n\t\t\tif (!this) {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\tconst\n\t\t\t\tstr = decodeURIComponent(this),\n\t\t\t\tchunks = str.split('&'),\n\t\t\t\tobj = {};\n\t\t\tfor (const chunk of chunks) {\n\t\t\t\tconst [key, val] = chunk.split('=', 2);\n\t\t\t\tobj[key] = val;\n\t\t\t}\n\t\t\treturn obj;\n\t\t}\n\t});\n\n\n\t/**\n\t * Global JQuery object extensions\n\t */\n\t$.extend($, {\n\n\t\t/**\n\t\t * Extend source object with given extensions, but only for properties matching\n\t\t * given prefix.\n\t\t *\n\t\t * @param source: source object, which will be updated in-place\n\t\t * @param prefix: property names prefix selector\n\t\t * @param getter: optional getter used to extract final value\n\t\t * @param extensions: list of extensions object\n\t\t * @returns {*}: modified source object\n\t\t */\n\t\textendPrefix: function(source, prefix, getter, ...extensions) {\n\t\t\tfor (const extension of extensions) {\n\t\t\t\tfor (const [key, value] of Object.entries(extension)) {\n\t\t\t\t\tif (key.startsWith(prefix)) {\n\t\t\t\t\t\tsource[key.substring(prefix.length).initLowerCase()] =\n\t\t\t\t\t\t\tgetter === null ? value : getter(value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn source;\n\t\t},\n\n\t\t/**\n\t\t * Extend source with given extensions, but only for existing attributes\n\t\t *\n\t\t * @param source: source object, which will be updated in-place\n\t\t * @param getter: optional getter used to extract final value\n\t\t * @param extensions: list of extensions object\n\t\t * @returns {*}: modified source object\n\t\t */\n\t\textendOnly: function(source, getter, ...extensions) {\n\t\t\tfor (const extension of extensions) {\n\t\t\t\tfor (const [key, value] of Object.entries(extension)) {\n\t\t\t\t\tif (source.hasOwnProperty(key)) {\n\t\t\t\t\t\tsource[key] = getter === null ? value : getter(value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn source;\n\t\t}\n\t});\n\n\n\t/**\n\t * New JQuery functions\n\t */\n\t$.fn.extend({\n\n\t\t/**\n\t\t * Check if current object is empty or not\n\t\t */\n\t\texists: function() {\n\t\t\treturn $(this).length > 0;\n\t\t},\n\n\t\t/**\n\t\t * Get object if it supports given CSS class,\n\t\t * otherwise look for parents\n\t\t */\n\t\tobjectOrParentWithClass: function(klass) {\n\t\t\tif (this.hasClass(klass)) {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\treturn this.parents(`.${klass}`);\n\t\t},\n\n\t\t/**\n\t\t * Build an array of attributes of the given selection\n\t\t */\n\t\tlistattr: function(attr) {\n\t\t\tconst result = [];\n\t\t\tthis.each((index, element) => {\n\t\t\t\tresult.push($(element).attr(attr));\n\t\t\t});\n\t\t\treturn result;\n\t\t},\n\n\t\t/**\n\t\t * CSS style function - get or set object style attribute\n\t\t * Code from Aram Kocharyan on stackoverflow.com\n\t\t */\n\t\tstyle: function(styleName, value, priority) {\n\t\t\tlet result = this;\n\t\t\tthis.each((idx, node) => {\n\t\t\t\t// Ensure we have a DOM node\n\t\t\t\tif (typeof node === 'undefined') {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t// CSSStyleDeclaration\n\t\t\t\tconst style = node.style;\n\t\t\t\t// Getter/Setter\n\t\t\t\tif (typeof styleName !== 'undefined') {\n\t\t\t\t\tif (typeof value !== 'undefined') {\n\t\t\t\t\t\t// Set style property\n\t\t\t\t\t\tpriority = typeof (priority) !== 'undefined' ? priority : '';\n\t\t\t\t\t\tstyle.setProperty(styleName, value, priority);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Get style property\n\t\t\t\t\t\tresult = style.getPropertyValue(styleName);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Get CSSStyleDeclaration\n\t\t\t\t\tresult = style;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn result;\n\t\t},\n\n\t\t/**\n\t\t * Remove CSS classes starting with a given prefix\n\t\t */\n\t\tremoveClassPrefix: function(prefix) {\n\t\t\tthis.each(function(i, it) {\n\t\t\t\tconst classes = it.className.split(/\\s+/).map((item) => {\n\t\t\t\t\treturn item.startsWith(prefix) ? \"\" : item;\n\t\t\t\t});\n\t\t\t\tit.className = $.trim(classes.join(\" \"));\n\t\t\t});\n\t\t\treturn this;\n\t\t}\n\n\t});\n\n\n\t$(document).ready(() => {\n\t\tconst html = $('html');\n\t\thtml.removeClass('no-js')\n\t\t\t.addClass('js');\n\t\tMyAMS.core.executeFunctionByName(html.data('ams-init-page') ||\n\t\t\tMyAMS.config.initPage);\n\t});\n}\n\n\n/**\n * Get list of modules names required by given element\n *\n * @param element: parent element\n * @returns {*[]}\n */\nexport function getModules(element) {\n\tlet modules = [];\n\tconst mods = element.data('ams-modules');\n\tif (typeof mods === 'string') {\n\t\tmodules = modules.concat(mods.trim().split(/[\\s,;]+/));\n\t} else if (mods) {\n\t\tfor (const [name, path] of Object.entries(mods)) {\n\t\t\tconst entry = {};\n\t\t\tentry[name] = path;\n\t\t\tmodules.push(entry);\n\t\t}\n\t}\n\t$('[data-ams-modules]', element).each((idx, elt) => {\n\t\tconst mods = $(elt).data('ams-modules');\n\t\tif (typeof mods === 'string') {\n\t\t\tmodules = modules.concat(mods.trim().split(/[\\s,;]+/));\n\t\t} else if (mods) {\n\t\t\tfor (const [name, path] of Object.entries(mods)) {\n\t\t\t\tconst entry = {};\n\t\t\t\tentry[name] = path;\n\t\t\t\tmodules.push(entry);\n\t\t\t}\n\t\t}\n\t});\n\treturn [...new Set(modules)];\n}\n\n\n/**\n * Main page initialization\n */\nexport function initPage() {\n\treturn MyAMS.require('i18n').then(() => {\n\t\tMyAMS.dom = getDOM();\n\t\tconst modules = getModules(MyAMS.dom.root);\n\t\tMyAMS.require(...modules).then(() => {\n\t\t\tfor (const moduleName of MyAMS.config.modules) {\n\t\t\t\texecuteFunctionByName(`MyAMS.${moduleName}.init`);\n\t\t\t}\n\t\t\tMyAMS.core.executeFunctionByName(MyAMS.dom.page.data('ams-init-content') ||\n\t\t\t\tMyAMS.config.initContent);\n\t\t});\n\t});\n}\n\n\n/**\n * Main content initialization; this function will initialize all plug-ins, callbacks and\n * events listeners in the selected element\n *\n * @param element: source element to initialize\n */\nexport function initContent(element=null) {\n\n\tif (element === null) {\n\t\telement = $('body');\n\t}\n\telement = $(element);\n\n\tfunction initElementModules() {\n\t\tfor (const moduleName of MyAMS.config.modules) {\n\t\t\texecuteFunctionByName(`MyAMS.${moduleName}.initElement`, document, element);\n\t\t}\n\t}\n\n\tconst modules = getModules(element);\n\treturn MyAMS.require(...modules).then(() => {\n\t\telement.trigger('before-init.ams.content');\n\t\tif (MyAMS.config.useRegistry && !element.data('ams-disable-registry')) {\n\t\t\tMyAMS.registry.initElement(element).then(() => {\n\t\t\t\tinitElementModules();\n\t\t\t}).then(() => {\n\t\t\t\tMyAMS.registry.run(element);\n\t\t\t\telement.trigger('after-init.ams.content');\n\t\t\t});\n\t\t} else {\n\t\t\tinitElementModules();\n\t\t}\n\t});\n}\n\n\n/**\n * Container clearing function.\n *\n * This function is called before replacing an element contents with new DOM elements;\n * an 'ams.container.before-cleaning' event is triggered, with arguments which are the\n * container and a \"veto\" object containing a single boolean \"veto\" property; if any\n * handler attached to this event set the \"veto\" property to *true*,\n *\n * The function returns a Promise which is resolved with the opposite value of the \"veto\"\n * property.\n *\n * @param element: the parent element which may be cleaned\n * @returns {Promise<boolean>}\n */\nexport function clearContent(element) {\n\tif (typeof element === 'string') {\n\t\telement = $(element);\n\t}\n\treturn new Promise((resolve, reject) => {\n\t\tconst veto = { veto: false };\n\t\telement.trigger('clear.ams.content', [element, veto]);\n\t\tresolve(!veto.veto);\n\t\tif (!veto.veto) {\n\t\t\telement.trigger('cleared.ams.content', [element]);\n\t\t}\n\t});\n}\n\n\n/**\n * Get an object given by name\n *\n * @param objectName: dotted name of the object\n * @param context: source context, or window if undefined\n * @returns {Object|undefined}\n */\nexport function getObject(objectName, context) {\n\tif (!objectName) {\n\t\treturn undefined;\n\t}\n\tif (typeof objectName !== 'string') {\n\t\treturn objectName;\n\t}\n\tconst namespaces = objectName.split('.');\n\tcontext = (context === undefined || context === null) ? window : context;\n\tfor (const name of namespaces) {\n\t\ttry {\n\t\t\tcontext = context[name];\n\t\t} catch (exc) {\n\t\t\treturn undefined;\n\t\t}\n\t}\n\treturn context;\n}\n\n\n/**\n * Get function object from name\n *\n * @param functionName: dotted name of the function\n * @param context: source context; window if undefined\n * @returns {function|undefined}\n */\nexport function getFunctionByName(functionName, context) {\n\tif ((functionName === null) || (typeof functionName === 'undefined')) {\n\t\treturn undefined;\n\t} else if (typeof functionName === 'function') {\n\t\treturn functionName;\n\t} else if (typeof functionName !== 'string') {\n\t\treturn undefined;\n\t}\n\tconst namespaces = functionName.split(\".\"),\n\t\t  func = namespaces.pop();\n\tcontext = (context === undefined || context === null) ? window : context;\n\tfor (const name of namespaces) {\n\t\ttry {\n\t\t\tcontext = context[name];\n\t\t} catch (e) {\n\t\t\treturn undefined;\n\t\t}\n\t}\n\ttry {\n\t\treturn context[func];\n\t} catch (e) {\n\t\treturn undefined;\n\t}\n}\n\n\n/**\n * Execute a function, given by it's name\n *\n * @param functionName: dotted name of the function\n * @param context: parent context, or window if undefined\n * @param args...: optional function arguments\n * @returns {*}: result of the called function\n */\nexport function executeFunctionByName(functionName, context /*, args */) {\n\tconst func = getFunctionByName(functionName, window);\n\tif (typeof func === 'function') {\n\t\tconst args = Array.prototype.slice.call(arguments, 2);\n\t\treturn func.apply(context, args);\n\t}\n}\n\n\n/**\n * Get target URL matching given source\n *\n * Given URL can include variable names (with their namespace), given between braces,\n * as in {MyAMS.env.baseURL}\n */\nexport function getSource(url) {\n\treturn url.replace(/{[^{}]*}/g, (match) => {\n\t\treturn getObject(match.substr(1, match.length - 2));\n\t});\n}\n\n\n/**\n * Dynamic script loader function\n *\n * @param url: script URL\n * @param options: a set of options to be added to AJAX call\n */\nexport function getScript(url, options={}) {\n\n\treturn new Promise((resolve, reject) => {\n\t\tconst defaults = {\n\t\t\tdataType: 'script',\n\t\t\turl: getSource(url),\n\t\t\tcache: MyAMS.env.devmode,\n\t\t\tasync: true\n\t\t};\n\t\tconst settings = $.extend({}, defaults, options);\n\t\t$.ajax(settings).then(() => {\n\t\t\tresolve(url);\n\t\t}, (xhr, status, error) => {\n\t\t\treject(error);\n\t\t})\n\t});\n}\n\n\n/**\n * Get CSS matching given URL\n *\n * @param url: CSS source URL\n * @param name: name of the given CSS\n */\nexport function getCSS(url, name) {\n\n\treturn new Promise((resolve, reject) => {\n\t\tconst head = $('HEAD');\n\t\tlet style = $(`style[data-ams-id=\"${name}\"]`, head);\n\t\tif (style.length === 0) {\n\t\t\tstyle = $('<style>').attr('data-ams-id', name)\n\t\t\t\t\t\t\t\t.text(`@import \"${getSource(url)}\";`)\n\t\t\t\t\t\t\t\t.appendTo(head);\n\t\t\tconst styleInterval = setInterval(() => {\n\t\t\t\ttry {\n\t\t\t\t\tconst _check = style[0].sheet.cssRules;  // Is only populated when file is loaded\n\t\t\t\t\tclearInterval(styleInterval);\n\t\t\t\t\tresolve(true);\n\t\t\t\t} catch (e) {\n\t\t\t\t\t// CSS is not loaded yet, just wait...\n\t\t\t\t}\n\t\t\t}, 10);\n\t\t} else {\n\t\t\tresolve(false);\n\t\t}\n\t});\n}\n\n\n/**\n * Extract parameter value from given query string\n *\n * @param src: source URL\n * @param varName: variable name\n * @returns {boolean|*}\n */\nexport function getQueryVar(src, varName) {\n\t// Check src\n\tif ((typeof src !== 'string') || (src.indexOf('?') < 0)) {\n\t\treturn undefined;\n\t}\n\tif (!src.endsWith('&')) {\n\t\tsrc += '&';\n\t}\n\t// Dynamic replacement RegExp\n\tconst regex = new RegExp(`.*?[&\\\\?]${varName}=(.*?)&.*`);\n\t// Apply RegExp to the query string\n\tconst val = src.replace(regex, \"$1\");\n\t// If the string is the same, we didn't find a match - return null\n\treturn val === src ? null : val;\n}\n\n\n/**\n * Generate a random ID\n */\nexport function generateId() {\n\n\tfunction s4() {\n\t\treturn Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n\t}\n\n\treturn s4() + s4() + s4() + s4();\n}\n\n\n/**\n * Generate a random unique UUID\n */\nexport function generateUUID() {\n\tlet d = new Date().getTime();\n\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n\t\tconst r = (d + Math.random() * 16) % 16 | 0;\n\t\td = Math.floor(d / 16);\n\t\treturn (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16);\n\t});\n}\n\n\n/**\n * Switch a FontAwesome icon.\n * Use FontAwesome API to get image as SVG, if FontAwesome is loaded from Javascript and is using\n * SVG auto-replace, otherwise just switch CSS class.\n *\n * @param element: source element\n * @param fromClass: initial CSS class (without \"fa-\" prefix)\n * @param toClass: new CSS class (without \"fa-\" prefix)\n */\nexport function switchIcon(element, fromClass, toClass) {\n\tif (typeof element === 'string') {\n\t\telement = $(element);\n\t}\n\tif (MyAMS.config.useSVGIcons) {\n\t\tconst iconDef = FontAwesome.findIconDefinition({iconName: toClass});\n\t\telement.html(FontAwesome.icon(iconDef).html);\n\t} else {\n\t\telement.removeClass(`fa-${fromClass}`)\n\t\t\t.addClass(`fa-${toClass}`);\n\t}\n}\n\n\n/**\n * MyAMS base functions\n *\n * @type {{devmode: boolean, baseURL: string, devext: string}}\n */\nfunction getEnv($) {\n\tconst script = $('script[src*=\"/myams.js\"], script[src*=\"/myams-dev.js\"], ' +\n\t\t\t\t\t 'script[src*=\"/myams-core.js\"], script[src*=\"/myams-core-dev.js\"], ' +\n\t\t\t\t\t 'script[src*=\"/myams-mini.js\"], script[src*=\"/myams-mini-dev.js\"]'),\n\t\t  src = script.attr('src'),\n\t\t  devmode = src ? src.indexOf('-dev.js') >= 0 : true;  // testing mode\n\treturn {\n\t\tbundle: src ? src.indexOf('-core') < 0 : true,  // testing mode\n\t\tdevmode: devmode,\n\t\tdevext: devmode ? '-dev' : '',\n\t\textext: devmode ? '' : '.min',\n\t\tbaseURL: src ? src.substring(0, src.lastIndexOf('/') + 1) : '/'\n\t};\n}\n\n\n/**\n * Get base DOM elements\n */\nfunction getDOM() {\n\treturn {\n\t\tpage: $('html'),\n\t\troot: $('body'),\n\t\tnav: $('nav'),\n\t\tmain: $('#main'),\n\t\tleftPanel: $('#left-panel'),\n\t\tshortcuts: $('#shortcuts')\n\t}\n}\n\n\n/**\n * MyAMS default configuration\n *\n * @type {Object}:\n *      modules: array of loaded extension modules\n * \t\tajaxNav: true if AJAX navigation is enabled\n * \t    enableFastclick: true is \"smart-click\" extension is to be activated on mobile devices\n * \t\tmenuSpeed: menu speed, in miliseconds\n * \t    initPage: dotted name of MyAMS global init function\n * \t    initContent: dotted name of MyAMS content init function\n * \t    alertContainerCLass: class of MyAMS alerts container\n * \t\tsafeMethods: HTTP methods which can be used without CSRF cookie verification\n * \t\tcsrfCookieName: CSRF cookie name\n * \t\tcsrfHeaderName: CSRF header name\n *      enableTooltips: global tooltips enable flag\n *      enableHtmlTooltips: allow HTML code in tooltips\n * \t\twarnOnFormChange: flag to specify if form changes should be warned\n * \t\tformChangeCallback: global form change callback\n * \t\tisMobile: boolean, true if device is detected as mobile\n * \t    device: string: 'mobile' or 'desktop'\n */\nconst\n\tisMobile = /iphone|ipad|ipod|android|blackberry|mini|windows\\sce|palm/i.test(\n\t\t\t\t\tnavigator.userAgent.toLowerCase()),\n\tconfig = {\n\t\tmodules: [],\n\t\tajaxNav: true,\n\t\tenableFastclick: true,\n\t\tuseSVGIcons: (window.FontAwesome !== undefined) &&\n\t\t\t\t\t (FontAwesome.config.autoReplaceSvg === 'nest'),\n\t\tmenuSpeed: 235,\n\t\tinitPage: 'MyAMS.core.initPage',\n\t\tinitContent: 'MyAMS.core.initContent',\n\t\tclearContent: 'MyAMS.core.clearContent',\n\t\tuseRegistry: true,\n\t\talertsContainerClass: 'toast-wrapper',\n\t\tsafeMethods: ['GET', 'HEAD', 'OPTIONS', 'TRACE'],\n\t\tcsrfCookieName: 'csrf_token',\n\t\tcsrfHeaderName: 'X-CSRF-Token',\n\t\tenableTooltips: true,\n\t\tenableHtmlTooltips: true,\n\t\twarnOnFormChange: true,\n\t\tformChangeCallback: null,\n\t\tisMobile: isMobile,\n\t\tdevice: isMobile ? 'mobile' : 'desktop'\n\t},\n\tcore = {\n\t\tgetObject: getObject,\n\t\tgetFunctionByName: getFunctionByName,\n\t\texecuteFunctionByName: executeFunctionByName,\n\t\tgetSource: getSource,\n\t\tgetScript: getScript,\n\t\tgetCSS: getCSS,\n\t\tgetQueryVar: getQueryVar,\n\t\tgenerateId: generateId,\n\t\tgenerateUUID: generateUUID,\n\t\tswitchIcon: switchIcon,\n\t\tinitPage: initPage,\n\t\tinitContent: initContent,\n\t\tclearContent: clearContent\n\t};\n\n\nconst MyAMS = {\n\t$: $,\n\tenv: getEnv(jQuery),\n\tconfig: config,\n\tcore: core,\n\tregistry: registry\n};\nwindow.MyAMS = MyAMS;\n\nexport default MyAMS;\n","/**\n * MyAMS dynamic plug-ins loading management\n */\n\n\n/**\n * Plug-ins loading order\n *  - initialize registry\n *  - initialize DOM data attributes\n *  - register all plug-ins from given DOM element\n *  - load all plug-ins from given DOM element\n *  - get list of disabled plug-ins into given DOM element\n *  - call callbacks for all enabled plug-ins\n *  - call callbacks for enabled \"async\" plug-ins\n */\n\n/**\n * Base plug-in class\n */\nclass Plugin {\n\n\tconstructor(name, props={}, loaded=false) {\n\t\tif (typeof name === 'object') {\n\t\t\tprops = name;\n\t\t\tloaded = props;\n\t\t\tif (props.hasOwnProperty('name')) {\n\t\t\t\tname = props.name;\n\t\t\t} else {\n\t\t\t\tthrow new Error(\"Missing plug-in name!\");\n\t\t\t}\n\t\t}\n\t\t// plug-in name\n\t\tthis.name = name;\n\t\t// plug-in source URL\n\t\tthis.src = props.src;\n\t\t// plug-in associated CSS\n\t\tthis.css = props.css;\n\t\t// plug-in callbacks\n\t\tthis.callbacks = [];\n\t\tif (props.callback) {\n\t\t\tthis.callbacks.push({\n\t\t\t\tcallback: props.callback,\n\t\t\t\tcontext: props.context || 'body'\n\t\t\t});\n\t\t}\n\t\t// async plug-ins are loaded simultaneously; sync ones are loaded and called after...\n\t\tthis.async = props.async === undefined ? true : props.async;\n\t\t// loaded flag\n\t\tthis.loaded = loaded;\n\t}\n\n\t/**\n\t * Extend properties of already registered plug-in\n \t */\n\textend(props) {\n\t\treturn $.extend(this, props);\n\t}\n\n\t/**\n\t * Load plug-in from remote script\n\t *\n\t * @returns {Promise<void>|*}\n\t */\n\tload() {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif (!this.loaded) {\n\t\t\t\tlet result = MyAMS.core.getScript(this.src);\n\t\t\t\tif (this.css) {\n\t\t\t\t\tresult = result.then(() => {\n\t\t\t\t\t\tMyAMS.core.getCSS(this.css, `${this.name}_css`);\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tresult.then(() => {\n\t\t\t\t\tthis.loaded = true;\n\t\t\t\t\tresolve();\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tresolve();\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Run plug-in\n\t *\n\t * @param element: plug-in execution context\n\t */\n\trun(element) {\n\t\tfor (const callback of this.callbacks) {\n\t\t\tif (typeof callback.callback === 'string') {\n\t\t\t\tconsole.debug(`Resolving callback ${callback.callback}`);\n\t\t\t\tcallback.callback = MyAMS.core.getFunctionByName(callback.callback) || callback.callback;\n\t\t\t}\n\t\t\tcallback.callback(element, callback.context);\n\t\t}\n\t}\n}\n\n\n/**\n * Plug-ins registry class\n */\nclass PluginsRegistry {\n\n\tconstructor() {\n\t\tthis.plugins = new Map();\n\t}\n\n\t/**\n\t * Register new plug-in\n\t *\n\t * @param plugin: plugin function caller, or object containing plug-in properties\n\t * @param name: plug-in unique name\n\t * @param callback: callback function which can be called after plug-in registration\n\t */\n\tregister(plugin, name) {\n\t\t// check arguments\n\t\tif (!name && plugin.hasOwnProperty('name')) {\n\t\t\tname = plugin.name;\n\t\t}\n\t\t// check for already registered plug-in\n\t\tconst plugins = this.plugins;\n\t\tif (plugins.has(name)) {\n\t\t\tif (window.console) {\n\t\t\t\tconsole.debug && console.debug(`Plug-in ${name} is already registered!`);\n\t\t\t}\n\t\t\treturn plugins.get(name);\n\t\t}\n\t\t// register new plug-in\n\t\tif (typeof plugin === 'string') {  // callable name\n\t\t\tplugin = MyAMS.core.getFunctionByName(plugin);\n\t\t}\n\t\tif (typeof plugin === 'function') {  // callable object\n\t\t\tplugins.set(name, new Plugin(name, {\n\t\t\t\tcallback: plugin\n\t\t\t}, true));\n\t\t} else if (typeof plugin === 'object') {  // plug-in properties object\n\t\t\tplugins.set(name, new Plugin(name, plugin, !Boolean(plugin.src)));\n\t\t}\n\t\t// check callback\n\t\treturn plugins.get(name);\n\t}\n\n\t/**\n\t * Load plug-ins declared into DOM element\n\t *\n\t * @param element\n\t */\n\tload(element) {\n\t\t// scan element for new plug-ins\n\t\tconst asyncPlugins = [],\n\t\t\t  syncPlugins = [];\n\t\t$('[data-ams-plugins]', element).each((idx, elt) => {\n\t\t\tconst source = $(elt),\n\t\t\t\t  names = source.data('ams-plugins');\n\t\t\tlet plugin,\n\t\t\t\tprops;\n\t\t\tif (typeof names === 'string') {\n\t\t\t\tfor (const name of names.split(/[\\s,;]+/)) {\n\t\t\t\t\tconst lowerName = name.toLowerCase();\n\t\t\t\t\tprops = {\n\t\t\t\t\t\tsrc: source.data(`ams-plugin-${lowerName}-src`),\n\t\t\t\t\t\tcss: source.data(`ams-plugin-${lowerName}-css`),\n\t\t\t\t\t\tcallback: source.data(`ams-plugin-${lowerName}-callback`),\n\t\t\t\t\t\tcontext: source,\n\t\t\t\t\t\tasync: source.data(`ams-plugin-${lowerName}-async`)\n\t\t\t\t\t};\n\t\t\t\t\tplugin = this.register(props, name);\n\t\t\t\t\tif (!plugin.loaded) {\n\t\t\t\t\t\tif (props.async === false) {\n\t\t\t\t\t\t\tsyncPlugins.push(plugin.load());\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tasyncPlugins.push(plugin.load());\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {  // JSON plug-in declaration\n\t\t\t\tfor (props of $.isArray(names) ? names : [names]) {\n\t\t\t\t\t$.extend(props, {\n\t\t\t\t\t\tcontext: source\n\t\t\t\t\t});\n\t\t\t\t\tplugin = this.register(props);\n\t\t\t\t\tif (!plugin.loaded) {\n\t\t\t\t\t\tif (plugin.async === false) {\n\t\t\t\t\t\t\tsyncPlugins.push(plugin.load());\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tasyncPlugins.push(plugin.load());\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t// load plug-ins\n\t\tlet result = $.when.apply($, asyncPlugins);\n\t\tfor (const plugin of syncPlugins) {\n\t\t\tresult = result.done(() => {});\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * Run registered plug-ins on given element\n\t *\n\t * @param element: source element\n\t * @param names: array list of plug-ins to activate, or all registered plug-ins if null\n\t */\n\trun(element, names=null) {\n\n\t\t// check for disabled plug-ins\n\t\tconst disabled = new Set();\n\t\t$('[data-ams-plugins-disabled]', element).each((idx, elt) => {\n\t\t\tconst names = $(elt).data('ams-plugins-disabled').split(/[\\s,;]+/);\n\t\t\tfor (const name of names) {\n\t\t\t\tdisabled.add(name);\n\t\t\t}\n\t\t});\n\n\t\tconst plugins = this.plugins;\n\t\tif (names) {  // only run given plug-ins, EVEN DISABLED ONES\n\t\t\tfor (const name of names) {\n\t\t\t\tif (plugins.has(name)) {\n\t\t\t\t\tplugins.get(name).run(element);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {  // run all plug-ins, except disabled ones\n\t\t\tfor (const [name, plugin] of plugins.entries()) {\n\t\t\t\tif (disabled.has(name)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tplugin.run(element);\n\t\t\t}\n\t\t}\n\t}\n}\n\nconst plugins = new PluginsRegistry();\n\n\nexport const registry = {\n\n\t/**\n\t * Plug-ins registry\n\t */\n\tplugins: plugins,\n\n\t/**\n\t * Initialize plug-ins registry from DOM\n\t *\n\t * @param element: source element to initialize from\n\t */\n\tinitElement: function(element='#content') {\n\t\t// populate data attributes\n\t\tMyAMS.registry.initData(element);\n\t\t// load plug-ins from given DOM element\n\t\treturn plugins.load(element);\n\t},\n\n\t/**\n\t * Register a new plug-in through Javascript instead of HTML data attributes\n\t *\n\t * @param plugin: callable object, or object containing plug-in properties\n\t * @param name: plug-in name, used if @plugin is a function\n\t * @param callback: callback function which can be called after plug-in registration\n\t */\n\tregister: function(plugin, name, callback) {\n\t\treturn plugins.register(plugin, name, callback);\n\t},\n\n\t/**\n\t * Data attributes initializer\n\t *\n\t * This function converts a single \"data-ams-data\" attribute into a set of several \"data-*\"\n\t * attributes.\n\t * This can be used into HTML templates engines which don't allow to create dynamic attributes\n\t * easilly.\n\t *\n\t * @param element: parent element\n\t */\n\tinitData: function(element) {\n\t\t$('[data-ams-data]', element).each((idx, elt) => {\n\t\t\tconst $elt = $(elt),\n\t\t\t\t  data = $elt.data('ams-data');\n\t\t\tif (data) {\n\t\t\t\tfor (const name in data) {\n\t\t\t\t\tif (!data.hasOwnProperty(name)) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tlet elementData = data[name];\n\t\t\t\t\tif (typeof elementData !== 'string') {\n\t\t\t\t\t\telementData = JSON.stringify(elementData);\n\t\t\t\t\t}\n\t\t\t\t\t$elt.attr(`data-${name}`, elementData);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n\t * Run registered plug-ins on given element\n\t *\n\t * @param element: DOM element\n\t * @param names: names of plug-in to run on given element; all if null\n\t */\n\trun: function(element, names=null) {\n\t\treturn plugins.run(element, names);\n\t}\n};\n","/**\n * MyAMS dynamic module loader\n */\n\nconst $ = MyAMS.$;\n\n\nfunction getModule(module) {\n\tlet moduleSrc;\n\tif (module.startsWith('http://') || module.startsWith('https://')) {\n\t\tmoduleSrc = module;\n\t} else if (module.endsWith('.js')) {  // custom module with relative path\n\t\tmoduleSrc = module;\n\t} else {  // standard MyAMS module\n\t\tmoduleSrc = `${MyAMS.env.baseURL}mod-${module}${MyAMS.env.devext}.js`;\n\t}\n\treturn MyAMS.core.getScript(moduleSrc, {async: true}, console.error);\n}\n\n\n/**\n * Dynamic loading of MyAMS modules\n *\n * @param modules: single module name, or array of modules names\n * @returns Promise\n */\nexport default function myams_require(...modules) {\n\n\treturn new Promise((resolve, reject) => {\n\n\t\tconst\n\t\t\tnames = [],\n\t\t\tdeferred = [],\n\t\t\tloaded = MyAMS.config.modules;\n\n\t\tfor (const module of modules) {\n\t\t\tif (typeof module === 'string') {\n\t\t\t\tif (loaded.indexOf(module) < 0) {\n\t\t\t\t\tnames.push(module);\n\t\t\t\t\tdeferred.push(getModule(module));\n\t\t\t\t}\n\t\t\t} else if ($.isArray(module)) {  // strings array\n\t\t\t\tfor (const name of module) {\n\t\t\t\t\tif (loaded.indexOf(name) < 0) {\n\t\t\t\t\t\tnames.push(name);\n\t\t\t\t\t\tdeferred.push(getModule(name));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {  // object\n\t\t\t\tfor (const [name, src] of Object.entries(module)) {\n\t\t\t\t\tif (loaded.indexOf(name) < 0) {\n\t\t\t\t\t\tnames.push(name);\n\t\t\t\t\t\tdeferred.push(getModule(src));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t$.when.apply($, deferred)\n\t\t\t.then(() => {\n\t\t\t\tfor (const moduleName of names) {\n\t\t\t\t\tif (loaded.indexOf(moduleName) < 0) {\n\t\t\t\t\t\tloaded.push(moduleName);\n\t\t\t\t\t\tMyAMS.core.executeFunctionByName(`MyAMS.${moduleName}.init`);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tresolve();\n\t\t\t}, () => {\n\t\t\t\treject(\"Can't load requested modules!\");\n\t\t\t});\n\t});\n}\n","/**\n * MyAMS core features\n *\n * This script is used to build MyAMS mini-core-package.\n *\n * This package only includes MyAMS core features, but not CSS or external modules\n * which can be loaded using MyAMS.require function.\n */\n\nimport MyAMS, { init } from \"./ext-base\";\nimport myams_require from \"./ext-require\";\n\n\nMyAMS.$.extend(MyAMS, {\n\trequire: myams_require\n});\n\nconst html = $('html');\nif (html.data('ams-init') !== false) {\n\tinit(MyAMS.$);\n}\n","module.exports = jquery;"],"sourceRoot":""}
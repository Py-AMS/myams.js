{"version":3,"sources":["mod-events.js"],"names":["$","MyAMS","_initialized","events","init","initElement","element","each","idx","elt","handlers","data","Object","entries","event","handler","on","core","getFunctionByName","env","bundle","config","modules","push","console","debug"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;AAIA,MAAMA,CAAC,GAAGC,KAAK,CAACD,CAAhB;AAEA,MAAIE,YAAY,GAAG,KAAnB;AAGO,MAAMC,MAAM,GAAG;AAErBC,IAAAA,IAAI,EAAE,gBAAM;AACX,UAAIF,YAAJ,EAAkB;AACjB;AACA;;AACDA,MAAAA,YAAY,GAAG,IAAf;AACA,KAPoB;AASrBG,IAAAA,WAAW,EAAE,qBAACC,OAAD,EAAa;AACzBN,MAAAA,CAAC,CAAC,4BAAD,EAA+BM,OAA/B,CAAD,CAAyCC,IAAzC,CAA8C,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC3D,YAAMH,OAAO,GAAGN,CAAC,CAACS,GAAD,CAAjB;AAAA,YACGC,QAAQ,GAAGJ,OAAO,CAACK,IAAR,CAAa,qBAAb,CADd;;AAEA,YAAID,QAAJ,EAAc;AACb,6CAA+BE,MAAM,CAACC,OAAP,CAAeH,QAAf,CAA/B,qCAAyD;AAAA;AAAA,gBAA7CI,KAA6C;AAAA,gBAAtCC,OAAsC;;AACxDT,YAAAA,OAAO,CAACU,EAAR,CAAWF,KAAX,EACCR,OAAO,CAACK,IAAR,CAAa,oBAAb,KAAsC,EADvC,EAECV,KAAK,CAACgB,IAAN,CAAWC,iBAAX,CAA6BH,OAA7B,CAFD;AAGA;AACD;AACD,OAVD;AAWA;AArBoB,GAAf;AAyBP;;;;;;AAGA,MAAId,KAAK,CAACkB,GAAN,CAAUC,MAAd,EAAsB;AACrBnB,IAAAA,KAAK,CAACoB,MAAN,CAAaC,OAAb,CAAqBC,IAArB,CAA0B,QAA1B;AACA,GAFD,MAEO;AACNtB,IAAAA,KAAK,CAACE,MAAN,GAAeA,MAAf;AACAqB,IAAAA,OAAO,CAACC,KAAR,CAAc,gCAAd;AACA","sourcesContent":["/**\n * MyAMS events management\n */\n\nconst $ = MyAMS.$;\n\nlet _initialized = false;\n\n\nexport const events = {\n\n\tinit: () => {\n\t\tif (_initialized) {\n\t\t\treturn;\n\t\t}\n\t\t_initialized = true;\n\t},\n\n\tinitElement: (element) => {\n\t\t$('[data-ams-events-handlers]', element).each((idx, elt) => {\n\t\t\tconst element = $(elt),\n\t\t\t\t  handlers = element.data('ams-events-handlers');\n\t\t\tif (handlers) {\n\t\t\t\tfor (const [event, handler] of Object.entries(handlers)) {\n\t\t\t\t\telement.on(event,\n\t\t\t\t\t\telement.data('ams-events-options') || {},\n\t\t\t\t\t\tMyAMS.core.getFunctionByName(handler));\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n};\n\n\n/**\n * Global module initialization\n */\nif (MyAMS.env.bundle) {\n\tMyAMS.config.modules.push('events');\n} else {\n\tMyAMS.events = events;\n\tconsole.debug(\"MyAMS: events module loaded...\");\n}\n"],"file":"mod-events-dev.js"}
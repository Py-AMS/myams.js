<h1>MyAMS "events" module</h1>

<section id="handlers">
	<h2>Generic events handlers</h2>
	<p>The <code>events</code> module allows to define custom handlers for any event which can
	be triggered on a DOM element.</p>
	<p>Configuration is done using <code>data-ams-events-handlers</code> attribute; the value
	is a serialized JSON object containing the event name as key, and the handler name as
	value.</p>
	<p>You can provide arguments to these handlers using <code>data-ams-events-options</code>
	attribute; these options can then be given as a simple string or as a serialized JSON
	object. Please note however that if you declare several events handlers on a single
	element, they will share the same options.</p>
	<p>Here are three links which implement different options:</p>
	<p data-ams-modules='{"app": "resources/js/myams-app.js"}'>
		<a href="#"
		   data-ams-events-handlers='{"click": "MyAMS.app.handlers.click"}'>Click event!</a> |
		<a href="#"
		   data-ams-events-handlers='{"click": "MyAMS.app.handlers.clickWithSimpleOption"}'
		   data-ams-events-options="danger">Click with simple option!</a> |
		<a href="#"
		   data-ams-events-handlers='{"click": "MyAMS.app.handlers.clickWithObjectOptions"}'
		   data-ams-events-options='{"status": "danger", "icon": "fa-cog"}'>Click with object!</a></p>
	<pre>	&lt;a href="#"
	   data-ams-events-handlers='{"click": "MyAMS.app.handlers.click"}'&gt;...&lt;/div&gt;
</pre>
	<pre>	&lt;a href="#"
	   data-ams-events-handlers='{"click": "MyAMS.app.handlers.clickWithSimpleOption"}'
	   data-ams-events-options="success"&gt;Click with simple option!&lt;/a&gt;
</pre>
	<pre>	&lt;a href="#"
	   data-ams-events-handlers='{"click": "MyAMS.app.handlers.clickWithObjectOptions"}'
	   data-ams-events-options='{"status": "danger", "icon": "fa-cog"}'&gt;Click with object!&lt;/a&gt;
</pre>
</section>

<section id="getHandlers">
	<h2><code>MyAMS.events.getHandlers(element, event): Array[]</code></h2>
	<p>This function is used to get the list of handlers assigned on the given element, or one of
	it's inner elements, to handle the given event.</p>
	<p>The function returns an array of all JQuery elements on which an handler is defined for
	the given event.</p>
</section>

<section id="clickHandler">
	<h2><code>MyAMS.events.clickHandler(evt)</code></h2>
	<p>This event handler is used to handle <code>click</code> events on any DOM element;
	the <code>data-ams-click-handler</code> attribute is used to provide the dotted name of a
	function which will be used to handle the event; several functions can be provided by
	separating their names with spaces, commas or semicolons. Each function may receive three
	parameters which are the original click event, the source element, and the value of it's
	<code>data-ams-click-handler-options</code> attribute, if any.</p>
	<p>By default, <code>preventDefault()</code> and <code>stopPropagation()</code> methods are
	called on the initial event; you can prevent this behaviour by setting
	<code>data-ams-prevent-default</code> or <code>data-ams-click-prevent-default</code>, and/or
	<code>data-ams-stop-propagation</code> or <code>data-ams-click-stop-propagation</code>, to
	<code>true</code>.</p>
	<p>If you need to disable a click handler temporarily, you can set the element's
	<code>ams-disabled-handlers</code> data property to <code>true</code>, <code>click</code> or
	<code>all</code>.</p>
</section>

<section id="changeHandler">
	<h2><code>MyAMS.events.changeHandler(evt)</code></h2>
	<p>This event handler is used to handle <code>change</code> events on any DOM element;
	the <code>data-ams-change-handler</code> attribute is used to provide the dotted name of a
	function which will be used to handle the event; several functions can be provided by
	separating their names with spaces, commas or semicolons. Each function may receive three
	parameters which are the original change event, the source element, and the value of it's
	<code>data-ams-change-handler-options</code> attribute, if any.</p>
	<p>By default, <code>preventDefault()</code> and <code>stopPropagation()</code> methods are
	called on the initial event; you can prevent this behaviour by setting
	<code>data-ams-prevent-default</code> or <code>data-ams-change-prevent-default</code>, and/or
	<code>data-ams-stop-propagation</code> or <code>data-ams-click-stop-propagation</code>, to
	<code>true</code>.</p>
	<p>If you need to disable a click handler temporarily, you can set the element's
	<code>ams-disabled-handlers</code> data property to <code>true</code>, <code>change</code> or
	<code>all</code>.</p>
	<p>Please note also that some browsers can generate change events for read-only elements; this
	handler is checking that inputs are not in read-only before calling selected handlers.</p>
</section>

<section id="triggerEvent">
	<h2><code>MyAMS.events.triggerEvent(evt)</code></h2>
	<p>This event handler is used to handle triggering of custom events on click. By setting a
	<code>data-ams-click-event</code> attribute on any DOM element, a click on this element will
	trigger another event whose name is the attribute value; you can add options to this event
	by setting another <code>data-ams-click-event-options</code> attribute on the same element.
	</p>
</section>